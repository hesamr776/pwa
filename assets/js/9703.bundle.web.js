(self.webpackChunknakhlex=self.webpackChunknakhlex||[]).push([[9703],{33305:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MarketHeader=void 0;var n=a(r(67294)),u=r(59693),i=r(50599),o=this,l="/Users/phinix/Workspace/BitBayt/src/features/Market/components/MarketHeader.tsx";t.MarketHeader=function(e){var t=e.search,r=e.setSearch;return n.default.createElement(u.View,{alignItems:"center",justifyContent:"center",padding:"m",marginHorizontal:"m",__self:o,__source:{fileName:l,lineNumber:14,columnNumber:5}},n.default.createElement(i.SearchInput,{search:t,setSearch:r,__self:o,__source:{fileName:l,lineNumber:19,columnNumber:7}}))}},72749:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MarketList=void 0;var n=a(r(67154)),u=a(r(67294)),i=r(59693),o=r(51222),l=r(60323),c=r(66916),s=this;t.MarketList=function(e){var t=e.data,r=e.baseMarket,a=(0,l.useCoins)().marketCoins,f=(0,o.use24CoinStatusApi)().data,m=void 0===f?{"BTC-USDT":{changeRate:"0.00"},"ETH-USDT":{changeRate:"0.00"},"TRX-USDT":{changeRate:"0.00"}}:f;return(0,i.List)({data:t.filter((function(e){return a.includes(e.id)})),hideSeparator:!0,marginHorizontal:"m",ListItem:u.default.memo((function(e){var t;return u.default.createElement(c.MarketItem,(0,n.default)({},e,{baseMarket:r,changes:(null==(t=m[e.id+"-USDT"])?void 0:t.changeRate)||"0.00",__self:s,__source:{fileName:"/Users/phinix/Workspace/BitBayt/src/features/Market/components/MarketList.tsx",lineNumber:32,columnNumber:7}}))}))})}},66916:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MarketItem=void 0;var n=a(r(67154)),u=a(r(63038)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=n?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(a,u,i):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a}(r(67294)),o=r(59693),l=r(39698),c=this,s="/Users/phinix/Workspace/BitBayt/src/features/Market/components/MarketListItem.tsx";function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}t.MarketItem=function(e){var t=e.id,r=e.USD,a=e.IQD,f=e.changes,m=e.USDChangesDirection,d=e.IQDChangesDirection,_=e.baseMarket,b=(0,i.useState)(1),p=(0,u.default)(b,2),v=p[0],N=p[1],g=(0,i.useState)("gray2"),h=(0,u.default)(g,2),k=h[0],M=h[1];return(0,i.useEffect)((function(){var e,t="USD"===_?m:d;return t&&(M("green"),N(.5),M(t<0?"red":"green"),e=setTimeout((function(){N(1),M("gray2")}),200)),function(){clearTimeout(e)}}),[_,m,d]),i.default.createElement(o.View,{flex:1,bg:"gray4",borderRadius:8,paddingVertical:"xs",paddingHorizontal:"m",flexDirection:"row",justifyContent:"space-between",alignItems:"center",__self:c,__source:{fileName:s,lineNumber:45,columnNumber:5}},i.default.createElement(o.View,{flexDirection:"row",alignItems:"center",__self:c,__source:{fileName:s,lineNumber:54,columnNumber:7}},i.default.createElement(o.Image,{name:t,w:32,h:32,__self:c,__source:{fileName:s,lineNumber:55,columnNumber:9}}),i.default.createElement(o.View,{marginHorizontal:"s",alignItems:"flex-start",__self:c,__source:{fileName:s,lineNumber:57,columnNumber:9}},i.default.createElement(o.Text,{variant:"header",lineHeight:32,margin:"none",padding:"none",style:{marginBottom:-12,marginTop:8},__self:c,__source:{fileName:s,lineNumber:58,columnNumber:11}},t),i.default.createElement(o.Text,{variant:"label",lineHeight:20,__self:c,__source:{fileName:s,lineNumber:67,columnNumber:11}},(0,l.$t)(t)))),i.default.createElement(o.View,{__self:c,__source:{fileName:s,lineNumber:73,columnNumber:7}},i.default.createElement(o.Text,(0,n.default)({variant:"text"},o.MediumFontProps,{marginBottom:"s",opacity:v,color:k,__self:c,__source:{fileName:s,lineNumber:74,columnNumber:9}}),"USD"===_?""+parseFloat(r).toFixed(5):"د.ع "+parseFloat(a).toFixed(3)),i.default.createElement(o.Text,{textAlign:"right",color:+f<0?"red":"green",__self:c,__source:{fileName:s,lineNumber:85,columnNumber:9}},f,"%")))}},80300:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MarketTabBar=void 0;var n=a(r(67154)),u=a(r(67294)),i=r(46467),o=r(59693),l=this,c="/Users/phinix/Workspace/BitBayt/src/features/Market/components/MarketTabBar.tsx";t.MarketTabBar=function(e){var t=e.baseMarket,r=e.setBaseMarket,a=function(e){var a=e.marketName;return u.default.createElement(o.View,{flex:1,borderBottomWidth:2,borderBottomColor:t===a?"primary":"gray3",__self:l,__source:{fileName:c,lineNumber:15,columnNumber:5}},u.default.createElement(o.Button,{variant:"flat",onPress:function(){t!==a&&((0,i.trackEvent)("Market_"+a,{title:a}),r(a))},label:u.default.createElement(o.Text,(0,n.default)({variant:"body"},o.MediumFontProps,{color:t===a?"primary":"gray2",__self:l,__source:{fileName:c,lineNumber:31,columnNumber:11}}),a),__self:l,__source:{fileName:c,lineNumber:19,columnNumber:7}}))};return u.default.createElement(o.View,{flexDirection:"row",borderBottomWidth:2,borderBottomColor:"gray3",marginHorizontal:"m",__self:l,__source:{fileName:c,lineNumber:43,columnNumber:5}},u.default.createElement(a,{marketName:"USD",__self:l,__source:{fileName:c,lineNumber:48,columnNumber:7}}),u.default.createElement(a,{marketName:"IQD",__self:l,__source:{fileName:c,lineNumber:50,columnNumber:7}}))}},48930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=r(80300);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var n=r(33305);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var u=r(72749);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var i=r(66916);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}))},7173:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=r(86417);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var n=r(86289);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var u=r(26635);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}))},86417:(e,t,r)=>{var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.listenPrice=void 0;var n=a(r(319));t.listenPrice=function(e){var t,r=e.prices.global,a={};for(t in r){a[t]||(a[t]=u(t));var i=r[t],o=a[t]||{USD:0,IQD:0,USDChangesDirection:0,IQDChangesDirection:0};o.USD===i.USD?o.USDChangesDirection=0:(o.USDChangesDirection=i.USD>o.USD?1:-1,o.USD=i.USD),o.IQD===i.IQD?o.IQDChangesDirection=0:(o.IQDChangesDirection=i.IQD>o.IQD?1:-1,o.IQD=i.IQD)}return(0,n.default)(Object.values(a))};var u=function(e){return{id:e,USD:"0",IQD:"0",changes:"2.82",isNegative:!1,USDChangesDirection:0,IQDChangesDirection:0,pressable:!1}}},26635:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useMarketData=void 0;var a=r(67294),n=r(39698);t.useMarketData=function(e,t){return(0,a.useMemo)((function(){return{data:(null==e?void 0:e.filter((function(e){return e.id.toLowerCase().includes(null==t?void 0:t.toLowerCase())||(0,n.$t)(e.id).toLowerCase().includes(null==t?void 0:t.toLowerCase())})))||[]}}),[e,t])}},86289:(e,t,r)=>{var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.usePriceChannel=function(e){var t=(0,o.useState)((0,l.listenPrice)({prices:{global:e}})),r=(0,n.default)(t,2),a=r[0],c=r[1];return(0,u.useFocusEffect)((0,o.useCallback)((function(){return(0,i.setEchoToken)(),i.echo.channel("crypto-channel-V2").listen(".Price",(function(e){var t=(0,l.listenPrice)(e);c(t)})),function(){i.echo.leave("crypto-channel-V2")}}),[])),[a]};var n=a(r(63038)),u=r(15239),i=r(39698),o=r(67294),l=r(86417)},59703:function(e,t,r){var a=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(63038)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=n?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(a,u,i):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a}(r(67294)),i=r(59693),o=r(51222),l=r(7173),c=r(48930),s=this,f="/Users/phinix/Workspace/BitBayt/src/features/Market/screens/Markets.tsx";function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}t.default=function(){var e=(0,u.useState)("USD"),t=(0,n.default)(e,2),r=t[0],a=t[1],m=(0,u.useState)(""),d=(0,n.default)(m,2),_=d[0],b=d[1],p=(0,o.useMarketApi)().data,v=void 0===p?Object.create({}):p,N=(0,l.usePriceChannel)(v),g=(0,n.default)(N,1)[0],h=(0,l.useMarketData)(g,_).data;return u.default.createElement(i.Screen,{noPadding:!0,__self:s,__source:{fileName:f,lineNumber:19,columnNumber:5}},u.default.createElement(c.MarketTabBar,{baseMarket:r,setBaseMarket:a,__self:s,__source:{fileName:f,lineNumber:20,columnNumber:7}}),u.default.createElement(c.MarketHeader,{search:_,setSearch:b,__self:s,__source:{fileName:f,lineNumber:22,columnNumber:7}}),!g.length&&u.default.createElement(i.Loading,{__self:s,__source:{fileName:f,lineNumber:24,columnNumber:27}}),u.default.createElement(c.MarketList,{data:h,baseMarket:r,__self:s,__source:{fileName:f,lineNumber:26,columnNumber:7}}))}}}]);