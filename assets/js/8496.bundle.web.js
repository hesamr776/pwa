(self.webpackChunknakhlex=self.webpackChunknakhlex||[]).push([[8496],{18496:function(e,t,a){var l=a(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a(67154)),i=l(a(63038)),n=l(a(67294)),u=a(59693),s=a(62484),o=a(51222),m=a(39698),c=a(9033),f=a(34787),d=this,_="/Users/phinix/Workspace/BitBayt/src/features/P2P/screens/MyAds.tsx";t.default=function(e){var t=e.navigation,a=n.default.useState(!1),l=(0,i.default)(a,2),N=l[0],g=l[1],p=n.default.useState(),v=(0,i.default)(p,2),x=v[0],h=v[1],y=(0,o.useAdvertisesApi)(),P=y.data,E=void 0===P?{pages:[]}:P,I=y.isFetching,w=y.isLoading,A=y.hasNextPage,M=y.fetchNextPage,F=y.isFetchingNextPage,$=(0,f.useBalance)().USDT,L=(0,c.useStore)().user.kycLevel;return n.default.createElement(u.Screen,{__self:d,__source:{fileName:_,lineNumber:49,columnNumber:5}},n.default.createElement(u.View,{flex:1,justifyContent:"center",__self:d,__source:{fileName:_,lineNumber:50,columnNumber:7}},w&&n.default.createElement(u.Loading,{__self:d,__source:{fileName:_,lineNumber:51,columnNumber:23}}),(0,u.List)({data:E.pages.flat().map((function(e){return(0,r.default)({},e,{pressable:!0})})),onPress:function(e){h(e),"active"===e.status?g(!0):"inProgress"===e.status&&t.navigate("P2PTradeFlow",{orderId:e.id,side:e.side})},listEmptyMessage:I?" ":void 0,queryKey:"MyAdvertises",isFetchingNextPage:F,loadMore:function(){A&&M&&M({pageParam:{offset:E.pages.flat().length}})},hidePressableArea:!0,ListItem:function(e){return(0,s.MyAdsItem)((0,r.default)({navigation:t,available:$},e))}}),n.default.createElement(u.Popup,{isVisible:N,code:"ADVERTISE_DETAILS",extraData:(0,r.default)({},x),InsideComponent:function(e){return b(e)},onRequestClose:function(){g(!1),h(void 0)},__self:d,__source:{fileName:_,lineNumber:76,columnNumber:9}})),Boolean(L)&&n.default.createElement(u.View,{flexDirection:"row",__self:d,__source:{fileName:_,lineNumber:91,columnNumber:9}},n.default.createElement(u.View,{flex:1,marginHorizontal:"xs",__self:d,__source:{fileName:_,lineNumber:92,columnNumber:11}},n.default.createElement(u.Button,{variant:"secondary",label:(0,m.$t)("createAd")+" ("+(0,m.$t)("sell")+")",onPress:function(){return t.navigate("CreateAdvertise",{side:"sell"})},__self:d,__source:{fileName:_,lineNumber:93,columnNumber:13}})),n.default.createElement(u.View,{flex:1,marginHorizontal:"xs",__self:d,__source:{fileName:_,lineNumber:101,columnNumber:11}},n.default.createElement(u.Button,{label:(0,m.$t)("createAd")+" ("+(0,m.$t)("buy")+")",onPress:function(){return t.navigate("CreateAdvertise",{side:"buy"})},__self:d,__source:{fileName:_,lineNumber:102,columnNumber:13}}))))};var b=function(e){var t=e.volume,a=e.price,l=e.status,r=e.addsInfo,i=e.lowLimit,s=e.highLimit,o=e.externalWalletIds,c=[{id:"priceType",label:(0,m.$t)("priceType"),value:(0,m.$t)("fixedPrice")},{id:"unitPrice",label:(0,m.$t)("unitPrice"),value:parseFloat(a).toFixed(2),image:"IQD"},{id:"totalAmount",label:(0,m.$t)("totalAmount"),value:parseFloat(t).toFixed(2),image:"USDT"},{id:"status",label:(0,m.$t)("status"),value:l},{id:"paymentMethods",label:(0,m.$t)("paymentMethods"),value:l},{id:"orderSize",label:(0,m.$t)("orderSize"),value:(parseFloat(i)||u.P2P_LOW_LIMIT).toFixed(2)+"-"+(parseFloat(s)||u.P2P_HIGH_LIMIT).toFixed(2)},{id:"addsInfo",label:(0,m.$t)("addsInfo"),value:r}];return n.default.createElement(u.View,{__self:d,__source:{fileName:_,lineNumber:173,columnNumber:5}},c.map((function(e){return e.value&&n.default.createElement(u.View,{key:"confirm-p2p-order_"+e.id,flexDirection:"paymentMethods"===e.id?"column":"row",alignItems:"paymentMethods"===e.id?"flex-start":"center",justifyContent:"space-between",__self:d,__source:{fileName:_,lineNumber:177,columnNumber:13}},n.default.createElement(u.Text,{color:"gray1",__self:d,__source:{fileName:_,lineNumber:184,columnNumber:15}},e.label),"paymentMethods"===e.id?n.default.createElement(u.View,{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",__self:d,__source:{fileName:_,lineNumber:186,columnNumber:17}},o.map((function(){return n.default.createElement(u.Image,{width:12,height:12,margin:"xs",__self:d,__source:{fileName:_,lineNumber:191,columnNumber:21}})}))):n.default.createElement(u.View,{flexDirection:"row",alignItems:"center",__self:d,__source:{fileName:_,lineNumber:195,columnNumber:17}},n.default.createElement(u.Text,{color:"status"===e.id?"active"===e.value?"green":"red":"black",__self:d,__source:{fileName:_,lineNumber:196,columnNumber:19}},e.value),e.image&&n.default.createElement(u.Image,{name:e.image,width:12,height:12,marginHorizontal:"xs",__self:d,__source:{fileName:_,lineNumber:208,columnNumber:21}})))})))}}}]);