(self.webpackChunknakhlex=self.webpackChunknakhlex||[]).push([[2484],{28364:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.AdvertisePaymentMethods=void 0;var n=l(r(67294)),a=r(59693),u=this,i="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/AdvertisePaymentMethods.tsx";t.AdvertisePaymentMethods=function(e){var t=e.paymentMethods,r=e.advertiseId;return n.default.createElement(a.View,{flexDirection:"row",alignItems:"center",marginHorizontal:"xs",__self:u,__source:{fileName:i,lineNumber:14,columnNumber:3}},t.map((function(e,t){return n.default.createElement(a.Image,{key:"advertise-"+r+"-paymentMethod_"+e.value+"-"+t,source:{uri:e.icon},width:14,height:14,marginEnd:"xs",__self:u,__source:{fileName:i,lineNumber:16,columnNumber:7}})})))}},63781:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmP2POrderForm=void 0;var n=l(r(67154)),a=l(r(63038)),u=l(r(67294)),i=r(39698),o=r(4070),m=r(51222),c=r(34787),s=r(59693),f=r(46823),d=r(49562),_=r(40930),b=this,N="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/ConfirmP2POrderForm.tsx";t.ConfirmP2POrderForm=function(e){var t=e.id,r=e.side,l=e.price,y=e.lowLimit,g=e.remaining,P=e.highLimit,h=e.commonPaymentMethods,x=e.setModalVisible,E=e.navigation,w=u.default.useState(!1),I=(0,a.default)(w,2),T=I[0],M=I[1],O=(0,c.useBalance)().USDT,$=void 0===O?0:O,j=Number(y||s.P2P_LOW_LIMIT),D=Math.min(Number(P||s.P2P_HIGH_LIMIT),Number(g)),F="buy"===r?D:Math.min(D,$),S=(0,f.createSchema)({quantity:(0,f.requiredNumberSchema)((0,i.$t)("quantity")).min(j,(0,i.$t)("yupMin",{field:(0,i.$t)("quantity"),min:j})).max(F,(0,i.$t)("sell"===r&&$<D?"yupBalance":"yupMax",{field:(0,i.$t)("quantity"),max:F})),amount:(0,f.requiredNumberSchema)((0,i.$t)("amount")).moreThan(0,(0,i.$t)("yupMore",{field:(0,i.$t)("amount"),more:0})),externalWalletId:(0,f.requiredStringSchema)((0,i.$t)("paymentMethod"))}),C=(0,c.useCustomForm)(S),k=C.control,V=C.setValue,A=C.getValues,L=C.handleSubmit,H=C.formState.isValid,B=(0,_.useController)({control:k,name:"quantity"}).field.value,W=(0,_.useController)({control:k,name:"amount"}).field.value;(0,d.useConfirmP2POrderInputEffect)({side:r,scale:l,setValue:V,control:k});var U=(0,m.useCreateP2POrderApi)(),z=U.mutate,R=U.isLoading,q=function(e){z((0,n.default)({},e,{amount:""+e.quantity,advertiseId:t}),{onSuccess:function(e){x(!1),"buy"===r&&(0,s.showPopupMessage)((0,i.$t)("youHaveNewOrder"),"success"),E.navigate("P2PTradeFlow",(0,n.default)({side:r},e.data)),o.queryClient.invalidateQueries("MyOrders")}})};return u.default.createElement(u.default.Fragment,null,u.default.createElement(s.View,{flex:1,justifyContent:"center",width:"100%",__self:b,__source:{fileName:N,lineNumber:134,columnNumber:7}},u.default.createElement(s.Input,{name:"quantity",control:k,keyboardType:"numeric",label:(0,i.$t)("byQuantity"),placeholder:(0,i.$t)("enterItem",{item:(0,i.$t)("quantity")}),Append:u.default.createElement(p,{name:"quantity",onPress:function(){return V("quantity",""+F,{shouldValidate:!0,shouldDirty:!0,shouldTouch:!0})},__self:b,__source:{fileName:N,lineNumber:142,columnNumber:13}}),hint:(0,i.$t)("orderSize")+": "+(y?parseFloat(y).toFixed(2):s.P2P_LOW_LIMIT)+"-"+(P?parseFloat(P).toFixed(2):s.P2P_HIGH_LIMIT)+" \n"+(0,i.$t)("remainQuantity")+": "+parseFloat(g).toFixed(2)+" \n"+(0,i.$t)("availableBalance")+": "+$,__self:b,__source:{fileName:N,lineNumber:135,columnNumber:9}}),u.default.createElement(s.View,{borderTopWidth:1,borderColor:"black",paddingRight:"xxl",marginTop:"s",marginBottom:"m",__self:b,__source:{fileName:N,lineNumber:162,columnNumber:9}},u.default.createElement(s.View,{bg:"white",position:"absolute",top:-10,width:80,left:"50%",__self:b,__source:{fileName:N,lineNumber:168,columnNumber:11}},u.default.createElement(s.Text,{textAlign:"center",color:"gray1",__self:b,__source:{fileName:N,lineNumber:174,columnNumber:13}},(0,i.$t)("or")))),u.default.createElement(s.Input,{name:"amount",control:k,keyboardType:"numeric",label:(0,i.$t)("byAmount"),placeholder:(0,i.$t)("enterItem",{item:(0,i.$t)("amount")}),Append:u.default.createElement(p,{name:"amount",__self:b,__source:{fileName:N,lineNumber:186,columnNumber:19}}),__self:b,__source:{fileName:N,lineNumber:180,columnNumber:9}}),u.default.createElement(s.SelectB,{name:"externalWalletId",control:k,data:h,label:""+(0,i.$t)("paymentMethod"),placeholder:(0,i.$t)("choosePaymentMethod"),__self:b,__source:{fileName:N,lineNumber:189,columnNumber:9}}),u.default.createElement(s.Text,{variant:"label",__self:b,__source:{fileName:N,lineNumber:197,columnNumber:9}},(0,i.$t)("youReceived"),":"," ",u.default.createElement(s.Text,{variant:"body",color:"blue",__self:b,__source:{fileName:N,lineNumber:199,columnNumber:11}},"buy"===r?(+B*(1-s.P2P_COMMISSION)||"0.00")+" USDT":(W||"0.00")+" IQD"))),u.default.createElement(s.View,{justifyContent:"center",width:"100%",__self:b,__source:{fileName:N,lineNumber:207,columnNumber:7}},u.default.createElement(s.Button,{label:(0,i.$t)(r),disabled:!H,loading:R,onPress:function(){return M(!0)},__self:b,__source:{fileName:N,lineNumber:208,columnNumber:9}})),u.default.createElement(s.Popup,{isVisible:T,code:"CONFIRM_P2P_ORDER",extraData:{quantity:A().quantity,amount:A().amount,price:parseFloat(l).toFixed(2),commonPaymentMethods:h.filter((function(e){return e.value===A().externalWalletId}))||[{}],side:r},InsideComponent:v,onRequestClose:function(e){e.isAccepted&&L(q)(),M(!1)},__self:b,__source:{fileName:N,lineNumber:216,columnNumber:7}}))};var p=function(e){var t=e.name,r=e.onPress;return u.default.createElement(u.default.Fragment,null,"quantity"===t?u.default.createElement(s.View,{flexDirection:"row",alignItems:"center",__self:b,__source:{fileName:N,lineNumber:250,columnNumber:9}},u.default.createElement(s.Image,{name:"USDT",width:22,height:22,__self:b,__source:{fileName:N,lineNumber:251,columnNumber:11}}),u.default.createElement(s.Text,{marginHorizontal:"s",color:"gray2",__self:b,__source:{fileName:N,lineNumber:252,columnNumber:11}},"USDT /"),u.default.createElement(s.Pressable,{onPress:r,__self:b,__source:{fileName:N,lineNumber:255,columnNumber:11}},u.default.createElement(s.Text,{color:"primary",__self:b,__source:{fileName:N,lineNumber:256,columnNumber:13}},(0,i.$t)("all")))):u.default.createElement(s.View,{flexDirection:"row",alignItems:"center",__self:b,__source:{fileName:N,lineNumber:260,columnNumber:9}},u.default.createElement(s.Image,{name:"IQD",width:22,height:22,__self:b,__source:{fileName:N,lineNumber:261,columnNumber:11}}),u.default.createElement(s.Text,{marginHorizontal:"s",color:"gray2",__self:b,__source:{fileName:N,lineNumber:262,columnNumber:11}},"IQD")))},v=function(e){var t,r,l=e.quantity,a=e.amount,o=e.price,m=e.commonPaymentMethods,c=[{id:"unitPrice",label:(0,i.$t)("unitPrice"),value:o,image:"IQD"},{id:"quantity",label:(0,i.$t)("quantity"),value:l,image:"USDT"},{id:"totalAmount",label:(0,i.$t)("totalAmount"),value:a,image:"IQD"},{id:"paymentMethod",label:(0,i.$t)("paymentMethod"),value:null==(t=m[0])?void 0:t.label,source:null==(r=m[0])?void 0:r.icon}];return u.default.createElement(s.View,{__self:b,__source:{fileName:N,lineNumber:313,columnNumber:5}},c.map((function(e){return u.default.createElement(s.View,{key:"confirm-p2p-order_"+e.id,flexDirection:"row",alignItems:"center",justifyContent:"space-between",__self:b,__source:{fileName:N,lineNumber:315,columnNumber:9}},u.default.createElement(s.Text,{color:"gray1",__self:b,__source:{fileName:N,lineNumber:320,columnNumber:11}},e.label),u.default.createElement(s.View,{flexDirection:"row",alignItems:"center",__self:b,__source:{fileName:N,lineNumber:321,columnNumber:11}},u.default.createElement(s.Text,(0,n.default)({color:"black"},s.DemiFontProps,{__self:b,__source:{fileName:N,lineNumber:322,columnNumber:13}}),e.value),e.source?u.default.createElement(s.Image,{source:{uri:e.source},width:12,height:12,marginHorizontal:"xs",__self:b,__source:{fileName:N,lineNumber:326,columnNumber:15}}):u.default.createElement(s.Image,{name:e.image,width:12,height:12,marginHorizontal:"xs",__self:b,__source:{fileName:N,lineNumber:333,columnNumber:15}})))})))}},57956:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MyAdsItem=void 0;var n=l(r(87757)),a=l(r(67154)),u=l(r(63038)),i=l(r(6479)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=e[a]}return l.default=e,r&&r.set(e,l),l}(r(67294)),m=l(r(93076)),c=r(39698),s=r(59693),f=r(51222),d=r(4070),_=r(9033),b=["navigation","id","side","price","volume","remaining","available","status","externalWalletIds","lowLimit","highLimit","updatedAt"],N=this,p="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/MyAdsItem.tsx";function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}t.MyAdsItem=function(e){var t=e.navigation,r=e.id,l=e.side,m=void 0===l?"buy":l,_=e.price,v=void 0===_?"0.00":_,g=e.volume,P=void 0===g?"0.00":g,h=e.remaining,x=void 0===h?"0.00":h,E=e.available,w=void 0===E?0:E,I=e.status,T=void 0===I?"inactive":I,M=e.externalWalletIds,O=e.lowLimit,$=e.highLimit,j=e.updatedAt,D=(0,i.default)(e,b),F=o.default.useState(!1),S=(0,u.default)(F,2),C=S[0],k=S[1],V=o.default.useState(!1),A=(0,u.default)(V,2),L=A[0],H=A[1],B=o.default.useState(),W=(0,u.default)(B,2),U=W[0],z=W[1],R=(0,f.useDeleteAdvertiseApi)().mutate,q=(0,f.useUpdateAdvertiseApi)(),Q=q.mutate,G=q.isLoading;return o.default.createElement(s.View,{flex:1,paddingTop:"s",paddingBottom:"xs",paddingHorizontal:"s",bg:"active"===T?"transparent":"gray4",borderRadius:8,__self:N,__source:{fileName:p,lineNumber:65,columnNumber:5}},o.default.createElement(s.View,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",__self:N,__source:{fileName:p,lineNumber:72,columnNumber:7}},o.default.createElement(s.View,{flexDirection:"row",alignItems:"center",__self:N,__source:{fileName:p,lineNumber:76,columnNumber:9}},o.default.createElement(s.Text,{variant:"text",paddingHorizontal:"xs",color:"buy"===m?"green":"red",__self:N,__source:{fileName:p,lineNumber:77,columnNumber:11}},(0,c.$t)(m)),o.default.createElement(s.Image,{name:"USDT",width:18,height:18,__self:N,__source:{fileName:p,lineNumber:84,columnNumber:11}}),o.default.createElement(s.Text,{variant:"text",paddingHorizontal:"xs",color:"buy"===m?"green":"red",__self:N,__source:{fileName:p,lineNumber:85,columnNumber:11}},"USDT"),o.default.createElement(s.Image,{name:"IQD",width:18,height:18,__self:N,__source:{fileName:p,lineNumber:92,columnNumber:11}}),o.default.createElement(s.Text,{variant:"text",paddingHorizontal:"xs",__self:N,__source:{fileName:p,lineNumber:93,columnNumber:11}},"IQD")),o.default.createElement(s.Text,{marginHorizontal:"xs",color:"gray2",__self:N,__source:{fileName:p,lineNumber:98,columnNumber:9}},new Date(j).toLocaleString())),o.default.createElement(s.View,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",__self:N,__source:{fileName:p,lineNumber:103,columnNumber:7}},o.default.createElement(s.View,{flexDirection:"row",alignItems:"center",marginEnd:"s",__self:N,__source:{fileName:p,lineNumber:107,columnNumber:9}},o.default.createElement(s.Text,{variant:"label",paddingHorizontal:"xs",__self:N,__source:{fileName:p,lineNumber:108,columnNumber:11}},(0,c.$t)("unitPrice"),":"),o.default.createElement(s.Text,{variant:"label",paddingHorizontal:"xs",color:"blue",__self:N,__source:{fileName:p,lineNumber:111,columnNumber:11}},parseFloat(v).toFixed(2))),o.default.createElement(s.View,{flexDirection:"row",alignItems:"center",marginStart:"s",__self:N,__source:{fileName:p,lineNumber:116,columnNumber:9}},o.default.createElement(s.Text,{variant:"label",paddingHorizontal:"xs",__self:N,__source:{fileName:p,lineNumber:117,columnNumber:11}},(0,c.$t)("remainQuantity"),":"),o.default.createElement(s.Text,{variant:"label",paddingHorizontal:"xs",color:"blue",__self:N,__source:{fileName:p,lineNumber:120,columnNumber:11}},parseFloat(x).toFixed(2)))),"suspended"===T?o.default.createElement(s.Button,{paddingHorizontal:"none",height:36,variant:"flat",label:(0,c.$t)("suspended"),onPress:function(){},disabled:!0,__self:N,__source:{fileName:p,lineNumber:127,columnNumber:9}}):o.default.createElement(o.default.Fragment,null,o.default.createElement(s.View,{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",paddingHorizontal:"xs",__self:N,__source:{fileName:p,lineNumber:137,columnNumber:11}},o.default.createElement(s.Icon,{name:"share-outline",marginEnd:"xs",onPress:function(){k(!0)},__self:N,__source:{fileName:p,lineNumber:142,columnNumber:13}}),o.default.createElement(s.Icon,{name:"trash-2-outline",marginEnd:"xs",onPress:function(){z({id:r}),H(!0)},__self:N,__source:{fileName:p,lineNumber:149,columnNumber:13}}),o.default.createElement(s.Icon,{name:"edit-outline",marginEnd:"xs",onPress:function(){return t.navigate("CreateAdvertise",(0,a.default)({edit:!0,id:r,side:m,price:v,volume:P,externalWalletIds:M,lowLimit:O,highLimit:$},D))},__self:N,__source:{fileName:p,lineNumber:157,columnNumber:13}}),(+O<=w||"buy"===m)&&o.default.createElement(s.View,{flexDirection:"row",alignItems:"center",__self:N,__source:{fileName:p,lineNumber:176,columnNumber:15}},o.default.createElement(s.Switch,{name:"advertise-active_"+r,isLoading:G,value:"active"===T,onValueChange:function(e){Q({id:r,status:e?"active":"inactive"},{onSuccess:function(){(0,s.showPopupMessage)((0,c.$t)("successful"),"success"),d.queryClient.invalidateQueries("MyAdvertises")}})},__self:N,__source:{fileName:p,lineNumber:177,columnNumber:17}}),o.default.createElement(s.Text,{variant:"body",color:"primary",__self:N,__source:{fileName:p,lineNumber:189,columnNumber:17}},"active"===T?(0,c.$t)("active"):(0,c.$t)("inactive")))),+O>w&&"sell"===m&&o.default.createElement(s.View,{marginTop:"s",borderRadius:8,borderColor:"red",borderWidth:1,paddingVertical:"xs",paddingHorizontal:"s",__self:N,__source:{fileName:p,lineNumber:197,columnNumber:13}},o.default.createElement(s.Text,{variant:"body",textAlign:"center",__self:N,__source:{fileName:p,lineNumber:204,columnNumber:15}},(0,c.$t)("chargeAccountAd")))),o.default.createElement(s.Popup,{key:"delete-advertise_"+r,isVisible:L,code:"DELETE_MY_ADVERTISE",extraData:(0,a.default)({},U),onRequestClose:function(e){e.isAccepted&&U&&R(U,{onSuccess:function(){(0,s.showPopupMessage)((0,c.$t)("itemUpdated",{item:(0,c.$t)("advertise")}),"success"),d.queryClient.invalidateQueries("MyAdvertises")}}),H(!1),z(void 0)},__self:N,__source:{fileName:p,lineNumber:212,columnNumber:7}}),o.default.createElement(s.Popup,{key:"share-advertise_"+r,isVisible:C,code:"SHARE_MY_ADVERTISE",extraData:{price:v,side:m,volume:P,lowLimit:O,highLimit:$,externalWalletIds:M},InsideComponent:y,onRequestClose:function(){return n.default.async((function(e){for(;;)switch(e.prev=e.next){case 0:k(!1);case 1:case"end":return e.stop()}}),null,null,null,Promise)},__self:N,__source:{fileName:p,lineNumber:234,columnNumber:7}}))};var y=function(e){var t=e.side,r=e.price,l=e.volume,a=e.lowLimit,u=e.highLimit,i=e.externalWalletIds,f=(0,_.useStore)().user.userName,d=[{id:"side",label:(0,c.$t)(t),value:"USDT",image:"USDT"},{id:"unitPrice",label:(0,c.$t)("unitPrice"),value:parseFloat(r).toFixed(2),image:"IQD"},{id:"totalAmount",label:(0,c.$t)("quantity"),value:parseFloat(l).toFixed(2),image:"USDT"},{id:"orderSize",label:(0,c.$t)("orderSize"),value:(parseFloat(a)||s.P2P_LOW_LIMIT).toFixed(2)+"-"+(parseFloat(u)||s.P2P_HIGH_LIMIT).toFixed(2),image:"USDT"},{id:"paymentMethods",label:(0,c.$t)("paymentMethods"),value:null==i?void 0:i.map((function(e){return e}))}],b=(0,o.useRef)();return o.default.createElement(s.View,{__self:N,__source:{fileName:p,lineNumber:323,columnNumber:5}},o.default.createElement(s.View,{collapsable:!1,ref:b,bg:"white",paddingHorizontal:"m",__self:N,__source:{fileName:p,lineNumber:324,columnNumber:7}},o.default.createElement(s.View,{alignItems:"center",marginBottom:"m",__self:N,__source:{fileName:p,lineNumber:325,columnNumber:9}},o.default.createElement(s.Text,{variant:"text",__self:N,__source:{fileName:p,lineNumber:326,columnNumber:11}},f),o.default.createElement(s.Text,{variant:"body",marginBottom:"m",__self:N,__source:{fileName:p,lineNumber:327,columnNumber:11}},(0,c.$t)("scanQRMyAds",{side:(0,c.$t)("buy"===t?"sell":"buy")})),o.default.createElement(m.default,{size:100,enableLinearGradient:!0,value:"",__self:N,__source:{fileName:p,lineNumber:331,columnNumber:11}})),d.map((function(e){return e.value&&o.default.createElement(s.View,{key:"myAd-detail_"+e.id,flexDirection:"paymentMethods"===e.id?"column":"row",alignItems:"paymentMethods"===e.id?"flex-start":"center",justifyContent:"space-between",__self:N,__source:{fileName:p,lineNumber:337,columnNumber:15}},o.default.createElement(s.Text,{color:"side"===e.id?"Buy"===e.label?"green":"red":"black",__self:N,__source:{fileName:p,lineNumber:344,columnNumber:17}},e.label),"paymentMethods"===e.id?o.default.createElement(s.View,{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",__self:N,__source:{fileName:p,lineNumber:356,columnNumber:19}},i.map((function(e,t){return o.default.createElement(s.Image,{key:"myAdDetail-paymentMethod_"+e+"_"+t,width:12,height:12,margin:"xs",__self:N,__source:{fileName:p,lineNumber:361,columnNumber:23}})}))):o.default.createElement(s.View,{flexDirection:"row",alignItems:"center",__self:N,__source:{fileName:p,lineNumber:370,columnNumber:19}},o.default.createElement(s.Text,{fontFamily:"unitPrice"===e.id?s.MediumFontProps.fontFamily:s.DemiFontProps.fontFamily,color:"unitPrice"===e.id?"blue":"side"===e.id?"Buy"===e.label?"green":"red":"black",__self:N,__source:{fileName:p,lineNumber:371,columnNumber:21}},e.value),e.image&&o.default.createElement(s.Image,{name:e.image,width:12,height:12,marginHorizontal:"xs",__self:N,__source:{fileName:p,lineNumber:390,columnNumber:23}})))}))),o.default.createElement(s.Button,{marginTop:"m",label:(0,c.$t)("shareAdvertise"),variant:"outline",onPress:function(){return n.default.async((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),null,null,null,Promise)},__self:N,__source:{fileName:p,lineNumber:405,columnNumber:7}}))}},32037:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.MyOrderItem=void 0;var n=l(r(67154)),a=l(r(67294)),u=r(39698),i=r(59693),o=this,m="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/MyOrderItem.tsx";t.MyOrderItem=function(e){var t=e.side,r=void 0===t?"buy":t,l=e.dispute,c=void 0!==l&&l,s=e.price,f=void 0===s?"0.00":s,d=e.volume,_=void 0===d?"0.00":d,b=e.status,N=void 0===b?"pending":b,p=e.traderName,v=void 0===p?"":p,y=e.disputeFlag,g=e.createdAt,P=void 0===g?new Date:g;return a.default.createElement(i.View,{flex:1,__self:o,__source:{fileName:m,lineNumber:17,columnNumber:3}},a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",__self:o,__source:{fileName:m,lineNumber:18,columnNumber:5}},a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",__self:o,__source:{fileName:m,lineNumber:22,columnNumber:7}},a.default.createElement(i.Text,{variant:"text",lineHeight:26,paddingHorizontal:"xs",color:"buy"===r?"green":"red",__self:o,__source:{fileName:m,lineNumber:23,columnNumber:9}},(0,u.$t)(r)),a.default.createElement(i.Image,{name:"USDT",width:18,height:18,__self:o,__source:{fileName:m,lineNumber:31,columnNumber:9}}),a.default.createElement(i.Text,{variant:"text",lineHeight:26,paddingHorizontal:"xs",color:"buy"===r?"green":"red",__self:o,__source:{fileName:m,lineNumber:32,columnNumber:9}},"USDT")),a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",__self:o,__source:{fileName:m,lineNumber:41,columnNumber:7}},a.default.createElement(i.Text,{marginHorizontal:"s",variant:"body",__self:o,__source:{fileName:m,lineNumber:42,columnNumber:9}},new Date(P).toLocaleString()),a.default.createElement(i.Text,{variant:"text",marginHorizontal:"s",color:"pending"===N?"orange":c?"black":"completed"===N?"green":"red",__self:o,__source:{fileName:m,lineNumber:45,columnNumber:9}},c?(0,u.$t)("dispute"):(0,u.$t)(N)))),a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",__self:o,__source:{fileName:m,lineNumber:62,columnNumber:5}},a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",marginEnd:"s",__self:o,__source:{fileName:m,lineNumber:63,columnNumber:7}},a.default.createElement(i.Text,{variant:"label",paddingHorizontal:"xs",__self:o,__source:{fileName:m,lineNumber:64,columnNumber:9}},(0,u.$t)("unitPrice"),":"),a.default.createElement(i.Text,{variant:"body",paddingHorizontal:"xs",__self:o,__source:{fileName:m,lineNumber:67,columnNumber:9}},parseFloat(f).toFixed(2))),a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",marginStart:"s",__self:o,__source:{fileName:m,lineNumber:72,columnNumber:7}},a.default.createElement(i.Text,{variant:"label",paddingHorizontal:"xs",__self:o,__source:{fileName:m,lineNumber:73,columnNumber:9}},(0,u.$t)("totalAmount"),":"),a.default.createElement(i.Text,(0,n.default)({variant:"text",paddingHorizontal:"xs"},i.MediumFontProps,{__self:o,__source:{fileName:m,lineNumber:76,columnNumber:9}}),"halfAndHalf"===y?(parseFloat(_)*parseFloat(f)/2).toFixed(2):(parseFloat(_)*parseFloat(f)).toFixed(2)),a.default.createElement(i.Image,{name:"IQD",width:16,height:16,__self:o,__source:{fileName:m,lineNumber:81,columnNumber:9}}))),a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",__self:o,__source:{fileName:m,lineNumber:85,columnNumber:5}},a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",marginEnd:"s",__self:o,__source:{fileName:m,lineNumber:86,columnNumber:7}},a.default.createElement(i.Text,{variant:"label",paddingHorizontal:"xs",__self:o,__source:{fileName:m,lineNumber:87,columnNumber:9}},(0,u.$t)("quantity"),":"),a.default.createElement(i.Text,{variant:"body",paddingHorizontal:"xs",__self:o,__source:{fileName:m,lineNumber:90,columnNumber:9}},parseFloat(_).toFixed(2)),a.default.createElement(i.Image,{name:"USDT",width:16,height:16,__self:o,__source:{fileName:m,lineNumber:93,columnNumber:9}})),a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",marginStart:"s",__self:o,__source:{fileName:m,lineNumber:96,columnNumber:7}},a.default.createElement(i.Text,{variant:"label",paddingHorizontal:"xs",__self:o,__source:{fileName:m,lineNumber:97,columnNumber:9}},(0,u.$t)("traderName"),":"),a.default.createElement(i.Text,{variant:"body",paddingHorizontal:"xs",__self:o,__source:{fileName:m,lineNumber:100,columnNumber:9}},v))),!!y&&a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",__self:o,__source:{fileName:m,lineNumber:107,columnNumber:7}},a.default.createElement(i.Text,{variant:"body",__self:o,__source:{fileName:m,lineNumber:108,columnNumber:9}},(0,u.$t)("inDispute"),": ",(0,u.$t)(y))))}},23335:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.P2PAdvertiseItem=void 0;var n=l(r(67154)),a=l(r(6479)),u=l(r(67294)),i=r(39698),o=r(59693),m=r(62484),c=this,s="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/P2PAdvertiseItem.tsx",f=["onPress","advertisePaymentMethods","isMine","side"];t.P2PAdvertiseItem=function(e){var t=e.onPress,r=e.advertisePaymentMethods,l=e.isMine,u=e.side,i=(0,a.default)(e,f);return d((0,n.default)({},i,{isMine:l,side:u,onPress:t,checkProfile:function(){},advertisePaymentMethods:r}))};var d=function(e){var t=e.onPress,r=e.checkProfile,l=e.id,a=e.lowLimit,f=void 0===a?""+o.P2P_LOW_LIMIT:a,d=e.highLimit,_=void 0===d?""+o.P2P_HIGH_LIMIT:d,b=e.volume,N=void 0===b?"0.00":b,p=e.name,v=void 0===p?"":p,y=e.price,g=void 0===y?"0.00":y,P=e.remaining,h=void 0===P?"0":P,x=e.value,E=void 0===x?"0":x,w=e.lockedValue,I=void 0===w?"0":w,T=e.isMine,M=void 0!==T&&T,O=e.side,$=void 0===O?"buy":O,j=e.advertisePaymentMethods;return u.default.createElement(o.Pressable,{flex:1,onPress:t,bg:M?"gray4":void 0,borderRadius:M?8:void 0,borderColor:"red",borderWidth:+f>+E-+I&&"buy"===$?1:0,padding:"s",__self:c,__source:{fileName:s,lineNumber:62,columnNumber:5}},+f>+E-+I&&M&&"buy"===$&&u.default.createElement(o.View,{bg:"red",borderRadius:12,__self:c,__source:{fileName:s,lineNumber:71,columnNumber:9}},u.default.createElement(o.Text,{color:"white",variant:"body",textAlign:"center",__self:c,__source:{fileName:s,lineNumber:72,columnNumber:11}},(0,i.$t)("chargeAccountAd"))),u.default.createElement(o.View,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",__self:c,__source:{fileName:s,lineNumber:77,columnNumber:7}},u.default.createElement(o.Pressable,{flexDirection:"row",alignItems:"center",onPress:M?void 0:r,__self:c,__source:{fileName:s,lineNumber:81,columnNumber:9}},u.default.createElement(o.Image,{name:"noProfile",width:24,height:24,__self:c,__source:{fileName:s,lineNumber:85,columnNumber:11}}),u.default.createElement(o.Text,{variant:"text",lineHeight:26,paddingHorizontal:"s",__self:c,__source:{fileName:s,lineNumber:87,columnNumber:11}},v," ",M&&"("+(0,i.$t)("yourAds")+")")),u.default.createElement(o.View,{flexDirection:"row",alignItems:"center",__self:c,__source:{fileName:s,lineNumber:92,columnNumber:9}},u.default.createElement(o.Text,(0,n.default)({variant:"text"},o.MediumFontProps,{color:"blue",__self:c,__source:{fileName:s,lineNumber:93,columnNumber:11}}),parseFloat(N).toFixed(2)),u.default.createElement(o.Image,{name:"USDT",width:18,height:18,paddingHorizontal:"s",__self:c,__source:{fileName:s,lineNumber:96,columnNumber:11}}),u.default.createElement(o.Text,{variant:"label",__self:c,__source:{fileName:s,lineNumber:97,columnNumber:11}},"USDT"))),u.default.createElement(o.View,{flexDirection:"row",alignItems:"center",__self:c,__source:{fileName:s,lineNumber:101,columnNumber:7}},u.default.createElement(o.View,{flexDirection:"row",alignItems:"center",marginHorizontal:"xs",__self:c,__source:{fileName:s,lineNumber:102,columnNumber:9}},u.default.createElement(o.Text,{variant:"label",paddingHorizontal:"xs",lineHeight:18,__self:c,__source:{fileName:s,lineNumber:103,columnNumber:11}},(0,i.$t)("unitPrice"),":"),u.default.createElement(o.Text,{variant:"body",color:"blue",lineHeight:18,__self:c,__source:{fileName:s,lineNumber:106,columnNumber:11}},parseFloat(g).toFixed(2)," IQD")),u.default.createElement(o.View,{flexDirection:"row",alignItems:"center",marginHorizontal:"xs",__self:c,__source:{fileName:s,lineNumber:111,columnNumber:9}},u.default.createElement(o.Text,{variant:"label",paddingHorizontal:"xs",lineHeight:18,__self:c,__source:{fileName:s,lineNumber:112,columnNumber:11}},(0,i.$t)("available"),":"),u.default.createElement(o.Text,{variant:"body",color:"black",lineHeight:18,__self:c,__source:{fileName:s,lineNumber:115,columnNumber:11}},(+E-+I).toFixed(3)," USDT"))),u.default.createElement(o.View,{flexDirection:"row",alignItems:"center",__self:c,__source:{fileName:s,lineNumber:121,columnNumber:7}},u.default.createElement(o.View,{flexDirection:"row",alignItems:"center",marginHorizontal:"xs",__self:c,__source:{fileName:s,lineNumber:122,columnNumber:9}},u.default.createElement(o.Text,{variant:"label",paddingHorizontal:"xs",lineHeight:18,__self:c,__source:{fileName:s,lineNumber:123,columnNumber:11}},(0,i.$t)("orderSize"),":"),u.default.createElement(o.Text,{variant:"body",color:"black",lineHeight:18,__self:c,__source:{fileName:s,lineNumber:126,columnNumber:11}},f?parseFloat(f).toFixed(2):o.P2P_LOW_LIMIT,"-",_?parseFloat(_).toFixed(2):o.P2P_HIGH_LIMIT," USDT")),u.default.createElement(o.View,{flexDirection:"row",alignItems:"center",marginHorizontal:"xs",__self:c,__source:{fileName:s,lineNumber:132,columnNumber:9}},u.default.createElement(o.Text,{variant:"label",paddingHorizontal:"xs",lineHeight:18,__self:c,__source:{fileName:s,lineNumber:133,columnNumber:11}},(0,i.$t)("remaining"),":"),u.default.createElement(o.Text,{variant:"body",color:"black",lineHeight:18,__self:c,__source:{fileName:s,lineNumber:136,columnNumber:11}},parseFloat(h).toFixed(2)," USDT"))),u.default.createElement(m.AdvertisePaymentMethods,{advertiseId:l,paymentMethods:j,__self:c,__source:{fileName:s,lineNumber:142,columnNumber:7}}))}},58050:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.UserProfileAdvertiseItem=void 0;var n=l(r(67154)),a=l(r(67294)),u=r(39698),i=r(59693),o=r(62484),m=this,c="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/UserProfileAdvertiseItem.tsx";t.UserProfileAdvertiseItem=function(e){var t=e.id,r=e.side,l=void 0===r?"buy":r,s=e.price,f=void 0===s?"2.23":s,d=e.volume,_=void 0===d?"208.00":d,b=e.lowLimit,N=void 0===b?""+i.P2P_LOW_LIMIT:b,p=e.highLimit,v=void 0===p?""+i.P2P_HIGH_LIMIT:p,y=e.paymentMethods,g=void 0===y?[]:y;return a.default.createElement(i.View,{flex:1,__self:m,__source:{fileName:c,lineNumber:18,columnNumber:5}},a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",__self:m,__source:{fileName:c,lineNumber:19,columnNumber:7}},a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",paddingEnd:"s",__self:m,__source:{fileName:c,lineNumber:23,columnNumber:9}},a.default.createElement(i.Text,(0,n.default)({variant:"text"},i.MediumFontProps,{paddingHorizontal:"xs",color:"buy"===l?"green":"red",lineHeight:14,__self:m,__source:{fileName:c,lineNumber:24,columnNumber:11}}),(0,u.$t)(l)),a.default.createElement(i.Text,{variant:"body",lineHeight:14,__self:m,__source:{fileName:c,lineNumber:33,columnNumber:11}},"USDT / IQD")),a.default.createElement(o.AdvertisePaymentMethods,{advertiseId:t,paymentMethods:g,__self:m,__source:{fileName:c,lineNumber:38,columnNumber:9}})),a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",__self:m,__source:{fileName:c,lineNumber:44,columnNumber:7}},a.default.createElement(i.Text,{variant:"label",paddingHorizontal:"xs",lineHeight:14,__self:m,__source:{fileName:c,lineNumber:45,columnNumber:9}},(0,u.$t)("unitPrice"),":"),a.default.createElement(i.Text,(0,n.default)({variant:"body",color:"blue",lineHeight:14},i.MediumFontProps,{__self:m,__source:{fileName:c,lineNumber:49,columnNumber:9}}),f," IQD")),a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",__self:m,__source:{fileName:c,lineNumber:54,columnNumber:7}},a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",marginEnd:"s",__self:m,__source:{fileName:c,lineNumber:55,columnNumber:9}},a.default.createElement(i.Text,{variant:"label",paddingHorizontal:"xs",lineHeight:14,__self:m,__source:{fileName:c,lineNumber:56,columnNumber:11}},(0,u.$t)("orderSize"),":"),a.default.createElement(i.Text,{variant:"body",color:"black",lineHeight:14,__self:m,__source:{fileName:c,lineNumber:60,columnNumber:11}},N,"-",v," USDT")),a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",marginStart:"s",__self:m,__source:{fileName:c,lineNumber:65,columnNumber:9}},a.default.createElement(i.Text,{variant:"label",paddingHorizontal:"xs",lineHeight:14,__self:m,__source:{fileName:c,lineNumber:66,columnNumber:11}},(0,u.$t)("available"),":"),a.default.createElement(i.Text,{variant:"body",color:"black",lineHeight:14,__self:m,__source:{fileName:c,lineNumber:70,columnNumber:11}},_," USDT"))))}},66408:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.UserProfileCard=void 0;var n=l(r(63038)),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=e[a]}return l.default=e,r&&r.set(e,l),l}(r(67294)),u=r(39698),i=r(59693),o=this,m="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/UserProfileCard.tsx";function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var s={name:"Ali Hamdan",score:"4.0",date:"27/03/2022",completedOrders:"42",tradedUsers:"28",releaseTime:"03:56",completionRate:"80.39",averagePaymentTime:"05:32",blocked:!1};t.UserProfileCard=function(){var e=(0,a.useState)(!1),t=(0,n.default)(e,2),r=t[0],l=t[1],c=(0,a.useState)(!1),f=(0,n.default)(c,2),d=f[0],_=f[1];return a.default.createElement(i.View,{height:200,justifyContent:"space-between",bg:"gray4",padding:"m",borderRadius:8,marginVertical:"l",__self:o,__source:{fileName:m,lineNumber:22,columnNumber:5}},a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",__self:o,__source:{fileName:m,lineNumber:29,columnNumber:7}},a.default.createElement(i.Image,{name:"noProfile",width:40,height:40,marginEnd:"m",__self:o,__source:{fileName:m,lineNumber:30,columnNumber:9}}),a.default.createElement(i.View,{__self:o,__source:{fileName:m,lineNumber:32,columnNumber:9}},a.default.createElement(i.Text,{variant:"header",color:"primary",lineHeight:20,__self:o,__source:{fileName:m,lineNumber:33,columnNumber:11}},s.name),a.default.createElement(i.Text,{variant:"body",__self:o,__source:{fileName:m,lineNumber:37,columnNumber:11}},(0,u.$t)("joinedIn")," ",s.date)),a.default.createElement(i.Pressable,{marginStart:"auto",paddingVertical:"xs",onPress:function(){return s.blocked?_(!0):l(!0)},__self:o,__source:{fileName:m,lineNumber:42,columnNumber:9}},s.blocked?a.default.createElement(i.Image,{name:"unblockUser",width:20,height:26,__self:o,__source:{fileName:m,lineNumber:51,columnNumber:13}}):a.default.createElement(i.Image,{name:"blockUser",width:20,height:26,__self:o,__source:{fileName:m,lineNumber:53,columnNumber:13}}))),a.default.createElement(i.View,{flexDirection:"row",justifyContent:"space-between",__self:o,__source:{fileName:m,lineNumber:58,columnNumber:7}},a.default.createElement(i.View,{__self:o,__source:{fileName:m,lineNumber:59,columnNumber:9}},a.default.createElement(i.Text,{color:"gray1",__self:o,__source:{fileName:m,lineNumber:60,columnNumber:11}},s.completedOrders),a.default.createElement(i.Text,{variant:"body",__self:o,__source:{fileName:m,lineNumber:61,columnNumber:11}},(0,u.$t)("completedOrder"))),a.default.createElement(i.View,{__self:o,__source:{fileName:m,lineNumber:64,columnNumber:9}},a.default.createElement(i.Text,{color:"gray1",__self:o,__source:{fileName:m,lineNumber:65,columnNumber:11}},s.tradedUsers),a.default.createElement(i.Text,{variant:"body",__self:o,__source:{fileName:m,lineNumber:66,columnNumber:11}},(0,u.$t)("tradedUsers"))),a.default.createElement(i.View,{__self:o,__source:{fileName:m,lineNumber:68,columnNumber:9}},a.default.createElement(i.Text,{color:"gray1",__self:o,__source:{fileName:m,lineNumber:69,columnNumber:11}},s.releaseTime),a.default.createElement(i.Text,{variant:"body",__self:o,__source:{fileName:m,lineNumber:70,columnNumber:11}},(0,u.$t)("releaseTime")))),a.default.createElement(i.View,{flexDirection:"row",justifyContent:"space-between",__self:o,__source:{fileName:m,lineNumber:74,columnNumber:7}},a.default.createElement(i.View,{__self:o,__source:{fileName:m,lineNumber:75,columnNumber:9}},a.default.createElement(i.Text,{color:"gray1",__self:o,__source:{fileName:m,lineNumber:76,columnNumber:11}},s.completionRate,"%"),a.default.createElement(i.Text,{variant:"body",__self:o,__source:{fileName:m,lineNumber:77,columnNumber:11}},(0,u.$t)("completionRate"))),a.default.createElement(i.View,{__self:o,__source:{fileName:m,lineNumber:80,columnNumber:9}},a.default.createElement(i.Text,{color:"gray1",__self:o,__source:{fileName:m,lineNumber:81,columnNumber:11}},s.averagePaymentTime),a.default.createElement(i.Text,{variant:"body",__self:o,__source:{fileName:m,lineNumber:82,columnNumber:11}},(0,u.$t)("averagePaymentTime"))),a.default.createElement(i.View,{alignItems:"center",justifyContent:"center",__self:o,__source:{fileName:m,lineNumber:85,columnNumber:9}},a.default.createElement(i.Icon,{name:"star",fill:"gray",__self:o,__source:{fileName:m,lineNumber:86,columnNumber:11}}),a.default.createElement(i.Text,{color:"primary",__self:o,__source:{fileName:m,lineNumber:87,columnNumber:11}},s.score))),a.default.createElement(i.Popup,{isVisible:r,code:"BLOCK_USER",onRequestClose:function(e){e.isAccepted&&(s.blocked=!0),l(!1)},__self:o,__source:{fileName:m,lineNumber:91,columnNumber:7}}),a.default.createElement(i.Popup,{isVisible:d,code:"UNBLOCK_USER",onRequestClose:function(e){e.isAccepted&&(s.blocked=!1),_(!1)},__self:o,__source:{fileName:m,lineNumber:101,columnNumber:7}}))}},7727:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.AdDetails=void 0;var n=l(r(67294)),a=r(40930),u=r(39698),i=r(59693),o=r(50599),m=r(20961),c=this,s="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/createAdvertise/AdDetails.tsx";t.AdDetails=function(e){var t=e.navigation,r=e.route,l=e.control,f=e.jumpTo,d=e.setValue,_=e.USDT,b=(0,a.useController)({control:l,name:"price"}),N=b.fieldState.error,p=b.field.value,v=(0,a.useController)({control:l,name:"volume"}),y=v.fieldState.error,g=v.field.value;return n.default.createElement(i.View,{flex:1,justifyContent:"space-between",paddingTop:"m",__self:c,__source:{fileName:s,lineNumber:30,columnNumber:5}},n.default.createElement(i.View,{__self:c,__source:{fileName:s,lineNumber:31,columnNumber:7}},n.default.createElement(o.DetailItem,{item:"priceType",details:{priceType:(0,u.$t)("fixedPrice")},__self:c,__source:{fileName:s,lineNumber:32,columnNumber:9}}),n.default.createElement(i.Input,{testID:"Input_CreateAd_Price",name:"price",placeholder:(0,u.$t)("enterItem",{item:(0,u.$t)("unitPrice")}),keyboardType:"numeric",control:l,label:(0,u.$t)("unitPrice"),Append:n.default.createElement(i.Image,{name:"IQD",width:20,height:20,__self:c,__source:{fileName:s,lineNumber:44,columnNumber:19}}),__self:c,__source:{fileName:s,lineNumber:37,columnNumber:9}}),n.default.createElement(i.Input,{testID:"Input_CreateAd_Value",name:"volume",placeholder:(0,u.$t)("enterItem",{item:(0,u.$t)("quantity")}),keyboardType:"numeric",control:l,label:(0,u.$t)("quantity"),hint:n.default.createElement(i.Pressable,{onPress:d?function(){d("volume",""+_,{shouldValidate:!0,shouldDirty:!0,shouldTouch:!0})}:void 0,__self:c,__source:{fileName:s,lineNumber:55,columnNumber:13}},n.default.createElement(i.Text,{textAlign:"left",variant:"hint",__self:c,__source:{fileName:s,lineNumber:67,columnNumber:15}},(0,u.$t)("availableBalance")+": "+_)),Append:n.default.createElement(i.Image,{name:"USDT",width:20,height:20,__self:c,__source:{fileName:s,lineNumber:72,columnNumber:19}}),__self:c,__source:{fileName:s,lineNumber:47,columnNumber:9}})),n.default.createElement(m.P2PAdvertiseFormSubmit,{navigation:t,route:r,disabled:!(!N&&!y&&p&&g),handleNext:function(){f("paymentMethods")},__self:c,__source:{fileName:s,lineNumber:76,columnNumber:7}}))}},79139:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.AdvancedSettings=void 0;var n=l(r(67154)),a=l(r(63038)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=e[a]}return l.default=e,r&&r.set(e,l),l}(r(67294)),i=r(40930),o=r(39698),m=r(59693),c=r(50599),s=r(20961),f=this,d="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/createAdvertise/AdvancedSettings.tsx";function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}var b=["lowLimit","highLimit","kyc","signUpPassedDays","addsInfo"];t.AdvancedSettings=function(e){var t=e.control,r=e.navigation,l=e.route,_=e.handleSubmit,N=(0,u.useState)((0,o.$t)("default")),p=(0,a.default)(N,2),v=p[0],y=p[1],g=(0,u.useRef)(null),P=(0,i.useController)({control:t,name:"lowLimit"}).formState.errors,h=!Object.keys(P).find((function(e){return b.includes(e)}));return u.default.createElement(m.View,{flex:1,justifyContent:"space-between",paddingTop:"m",__self:f,__source:{fileName:d,lineNumber:47,columnNumber:5}},u.default.createElement(m.View,{flex:1,justifyContent:"flex-start",__self:f,__source:{fileName:d,lineNumber:48,columnNumber:7}},u.default.createElement(m.BottomSheet,{ref:g,size:"l",title:(0,o.$t)("tradingRules"),toggle:u.default.createElement(c.DetailItem,{item:"tradingRules",hasError:!h,details:{tradingRules:v},onPress:function(){var e;null==(e=g.current)||e.open()},__self:f,__source:{fileName:d,lineNumber:54,columnNumber:13}}),__self:f,__source:{fileName:d,lineNumber:49,columnNumber:9}},u.default.createElement(m.View,{flexDirection:"row",alignItems:"flex-end",__self:f,__source:{fileName:d,lineNumber:63,columnNumber:11}},u.default.createElement(m.View,{flex:1,paddingEnd:"s",__self:f,__source:{fileName:d,lineNumber:64,columnNumber:13}},u.default.createElement(m.Input,{control:t,name:"lowLimit",keyboardType:"numeric",label:(0,o.$t)("orderSize"),placeholder:(0,o.$t)("enterItem",{item:(0,o.$t)("lowLimit")}),Append:u.default.createElement(m.Image,{name:"USDT",width:20,height:20,__self:f,__source:{fileName:d,lineNumber:71,columnNumber:25}}),__self:f,__source:{fileName:d,lineNumber:65,columnNumber:15}})),u.default.createElement(m.Text,(0,n.default)({variant:"text"},m.MediumFontProps,{marginBottom:"l",paddingTop:"s",__self:f,__source:{fileName:d,lineNumber:75,columnNumber:13}}),"~"),u.default.createElement(m.View,{flex:1,paddingStart:"s",__self:f,__source:{fileName:d,lineNumber:83,columnNumber:13}},u.default.createElement(m.Input,{control:t,name:"highLimit",label:" ",keyboardType:"numeric",placeholder:(0,o.$t)("enterItem",{item:(0,o.$t)("highLimit")}),Append:u.default.createElement(m.Image,{name:"USDT",width:20,height:20,__self:f,__source:{fileName:d,lineNumber:90,columnNumber:25}}),__self:f,__source:{fileName:d,lineNumber:84,columnNumber:15}}))),u.default.createElement(m.SelectB,{data:[{label:(0,o.$t)("KYC1"),value:"1"},{label:(0,o.$t)("KYC2"),value:"2",disabled:!0}],control:t,name:"kyc",label:(0,o.$t)("KYCLevel"),placeholder:(0,o.$t)("selectKYC"),__self:f,__source:{fileName:d,lineNumber:95,columnNumber:11}}),u.default.createElement(m.SelectB,{data:[{label:(0,o.$t)("noRestriction"),value:"1"},{label:(0,o.$t)("30DaysAgo"),value:"2"},{label:(0,o.$t)("90DaysAgo"),value:"3"},{label:(0,o.$t)("180DaysAgo"),value:"4"},{label:(0,o.$t)("365DaysAgo"),value:"5"}],control:t,name:"signUpPassedDays",label:(0,o.$t)("signUpPassedDays"),placeholder:(0,o.$t)("selectItem",{item:(0,o.$t)("signUpPassedDays")}),__self:f,__source:{fileName:d,lineNumber:106,columnNumber:11}}),u.default.createElement(m.Button,{disabled:!h,label:(0,o.$t)("save"),onPress:function(){var e;y((0,o.$t)("modified")),null==(e=g.current)||e.close()},__self:f,__source:{fileName:d,lineNumber:120,columnNumber:11}})),u.default.createElement(m.Input,{textarea:!0,control:t,name:"addsInfo",label:(0,o.$t)("addsInfo"),placeholder:(0,o.$t)("enterAdInformation"),__self:f,__source:{fileName:d,lineNumber:130,columnNumber:9}}),u.default.createElement(m.View,{flexDirection:"row",alignItems:"center",__self:f,__source:{fileName:d,lineNumber:138,columnNumber:9}},u.default.createElement(m.View,{flex:1,__self:f,__source:{fileName:d,lineNumber:139,columnNumber:11}},u.default.createElement(m.Text,{color:"gray1",__self:f,__source:{fileName:d,lineNumber:140,columnNumber:13}},(0,o.$t)("sampleAdInformation"))),u.default.createElement(m.View,{__self:f,__source:{fileName:d,lineNumber:143,columnNumber:11}},u.default.createElement(c.Clipboard,{target:(0,o.$t)("sampleAdInformation"),successMessage:(0,o.$t)("itemCopied",{item:(0,o.$t)("addsInfo")}),__self:f,__source:{fileName:d,lineNumber:144,columnNumber:13}})))),u.default.createElement(s.P2PAdvertiseFormSubmit,{disabled:!h,navigation:r,route:l,handleSubmit:_,__self:f,__source:{fileName:d,lineNumber:152,columnNumber:7}}))}},20961:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.P2PAdvertiseFormSubmit=void 0;var n=l(r(87757)),a=l(r(67154)),u=l(r(6479)),i=l(r(67294)),o=r(39698),m=r(59693),c=r(34787),s=r(51222),f=r(4070),d=["volume","price","lowLimit","highLimit"],_=this,b="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/createAdvertise/P2PAdvertiseFormSubmit.tsx";t.P2PAdvertiseFormSubmit=function(e){var t=e.route,r=e.navigation,l=e.label,N=e.handleSubmit,p=e.handleNext,v=e.handleBack,y=e.disabled,g=e.hideCancel,P=t.params.edit,h=t.params.side||"buy",x=(0,s.useCreateAdvertiseApi)(),E=x.mutate,w=x.isLoading,I=(0,s.useUpdateAdvertiseApi)(),T=I.mutate,M=I.isLoading,O=(0,c.useIsLoading)(w,M);return i.default.createElement(m.View,{flexDirection:"row",__self:_,__source:{fileName:b,lineNumber:99,columnNumber:5}},!g&&i.default.createElement(m.View,{flex:1,paddingEnd:"xs",__self:_,__source:{fileName:b,lineNumber:101,columnNumber:9}},i.default.createElement(m.Button,{label:(0,o.$t)("cancel"),onPress:function(){r.navigate("AdvertisesList",{side:h})},variant:"secondary",loading:O,__self:_,__source:{fileName:b,lineNumber:102,columnNumber:11}})),v&&i.default.createElement(m.View,{flex:1,paddingHorizontal:"xs",__self:_,__source:{fileName:b,lineNumber:113,columnNumber:9}},i.default.createElement(m.Button,{label:(0,o.$t)("back"),onPress:v,variant:"secondary",loading:O,__self:_,__source:{fileName:b,lineNumber:114,columnNumber:11}})),i.default.createElement(m.View,{flex:2,paddingHorizontal:"xs",__self:_,__source:{fileName:b,lineNumber:123,columnNumber:7}},N&&i.default.createElement(m.Button,{testID:"Button_CreateAd_Submit",label:(0,o.$t)("next"),disabled:y,onPress:N((function(e){var l,i,c,s,_,b;return n.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:l=e.volume,i=e.price,c=e.lowLimit,s=e.highLimit,_=(0,u.default)(e,d),b=(0,a.default)({},_,{volume:""+l,price:""+i,lowLimit:c?""+c:c,highLimit:s?""+s:s,symbol:"USDT-IQD",side:h,id:t.params.id||""}),P?T(b,{onSuccess:function(){var e;(0,m.showPopupMessage)((0,o.$t)("itemUpdated",{item:(0,o.$t)("advertise")}),"success"),f.queryClient.invalidateQueries(["allAdvertises",{side:h}]),f.queryClient.invalidateQueries("MyAdvertises"),"MyAds"===(null==(e=r.getParent())?void 0:e.getId())?r.goBack():r.replace("MyAds"),(0,o.trackEvent)("P2P_Update_Advertise",b)}}):E(b,{onSuccess:function(){var e;f.queryClient.invalidateQueries(["allAdvertises",{side:h}]),f.queryClient.invalidateQueries("MyAdvertises"),"MyAds"===(null==(e=r.getParent())?void 0:e.getId())?r.goBack():r.replace("MyAds"),(0,o.trackEvent)("P2P_Create_Advertise",b)}});case 3:case"end":return n.stop()}}),null,null,null,Promise)})),variant:"primary",loading:O,__self:_,__source:{fileName:b,lineNumber:125,columnNumber:11}}),p&&i.default.createElement(m.Button,{testID:"Button_CreateAd_Next",variant:"primary",disabled:y,label:l||(0,o.$t)("continue"),onPress:p,__self:_,__source:{fileName:b,lineNumber:135,columnNumber:11}})))}},27477:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.P2PAdvertiseFormTabs=void 0;var n=l(r(63038)),a=l(r(67294)),u=r(39698),i=r(59693),o=r(63478),m=this,c="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/createAdvertise/P2PAdvertiseFormTabs.tsx";t.P2PAdvertiseFormTabs=function(e){var t=e.control,r=e.navigation,l=e.route,o=e.USDT,f=e.setValue,d=e.handleSubmit,_=a.default.useState([{key:"adDetails",title:(0,u.$t)("adDetails")},{key:"paymentMethods",title:(0,u.$t)("paymentMethods")},{key:"advancedSettings",title:(0,u.$t)("advancedSettings")}]),b=(0,n.default)(_,1)[0],N=a.default.useRef({index:0,jumpTo:function(){}});return a.default.createElement(i.Tabs,{routes:b,scenes:s({control:t,tabBarRef:N,navigation:r,route:l,USDT:o,setValue:f,handleSubmit:d,jumpTo:N.current.jumpTo}),tabBar:function(e){var t=e.navigationState.index,r=e.jumpTo;return N.current={index:t,jumpTo:r},a.default.createElement(i.Stepper,{onPress:function(e){e<t&&r(b[e].key)},currentPosition:t,labels:b.map((function(e){return e.title})),__self:m,__source:{fileName:c,lineNumber:49,columnNumber:11}})},__self:m,__source:{fileName:c,lineNumber:33,columnNumber:5}})};var s=function(e){var t=e.control,r=e.tabBarRef,l=e.navigation,n=e.route,u=e.USDT,i=e.setValue,s=e.handleSubmit;return{adDetails:a.default.memo((function(){return a.default.createElement(o.AdDetails,{control:t,jumpTo:r.current.jumpTo,navigation:l,route:n,USDT:u,setValue:i,handleSubmit:s,__self:m,__source:{fileName:c,lineNumber:77,columnNumber:7}})})),paymentMethods:a.default.memo((function(){return a.default.createElement(o.PaymentMethods,{control:t,jumpTo:r.current.jumpTo,navigation:l,route:n,handleSubmit:s,__self:m,__source:{fileName:c,lineNumber:88,columnNumber:7}})})),advancedSettings:a.default.memo((function(){return a.default.createElement(o.AdvancedSettings,{control:t,jumpTo:r.current.jumpTo,navigation:l,route:n,handleSubmit:s,__self:m,__source:{fileName:c,lineNumber:97,columnNumber:7}})}))}}},96495:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.P2PCreateAdvertiseForm=void 0;var l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=e[a]}return l.default=e,r&&r.set(e,l),l}(r(67294)),n=r(39698),a=r(59693),u=r(34787),i=r(46823),o=r(63478),m=this,c="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/createAdvertise/P2PCreateAdvertiseForm.tsx";function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}t.P2PCreateAdvertiseForm=function(e){var t=e.navigation,r=e.route,s=(0,u.useBalance)().USDT,d=void 0===s?0:s,_=r.params.side,b="buy"===_?a.P2P_HIGH_LIMIT:Math.min(a.P2P_HIGH_LIMIT,d),N=Math.min(b,a.P2P_HIGH_LIMIT),p=(0,i.createSchema)({price:(0,i.requiredNumberSchema)((0,n.$t)("price")).moreThan(0,(0,n.$t)("yupMore",{field:(0,n.$t)("price"),more:0})),volume:(0,i.requiredNumberSchema)((0,n.$t)("quantity")).min(a.P2P_LOW_LIMIT,(0,n.$t)("yupMin",{field:(0,n.$t)("quantity"),min:a.P2P_LOW_LIMIT})).max(b,(0,n.$t)("sell"===_&&d<a.P2P_HIGH_LIMIT?"yupBalance":"yupMax",{field:(0,n.$t)("quantity"),max:b})),externalWalletIds:(0,i.requiredArraySchema)((0,n.$t)("paymentMethods")),lowLimit:(0,i.numberSchema)((0,n.$t)("lowLimit")).min(a.P2P_LOW_LIMIT,(0,n.$t)("yupMin",{field:(0,n.$t)("lowLimit"),min:a.P2P_LOW_LIMIT})).max(N,(0,n.$t)("yupMax",{field:(0,n.$t)("lowLimit"),max:N})).nullable(),highLimit:(0,i.numberSchema)((0,n.$t)("highLimit")).min(a.P2P_LOW_LIMIT,(0,n.$t)("yupMin",{field:(0,n.$t)("highLimit"),min:a.P2P_LOW_LIMIT})).max(a.P2P_HIGH_LIMIT,(0,n.$t)("yupMax",{field:(0,n.$t)("highLimit"),max:a.P2P_HIGH_LIMIT})).nullable(),kyc:(0,i.stringSchema)().nullable(),signUpPassedDays:(0,i.stringSchema)().nullable(),addsInfo:(0,i.stringSchema)().nullable()}).when((function(e,t){if(e.volume)return e.lowLimit?t.shape({lowLimit:(0,i.numberSchema)((0,n.$t)("lowLimit")).min(a.P2P_LOW_LIMIT,(0,n.$t)("yupMin",{field:(0,n.$t)("lowLimit"),min:a.P2P_LOW_LIMIT})).max(e.volume,(0,n.$t)("yupMax",{field:(0,n.$t)("lowLimit"),max:e.volume})).nullable(),highLimit:(0,i.numberSchema)((0,n.$t)("highLimit")).min(e.lowLimit,(0,n.$t)("yupMin",{field:(0,n.$t)("highLimit"),min:e.lowLimit})).max(a.P2P_HIGH_LIMIT,(0,n.$t)("yupMax",{field:(0,n.$t)("highLimit"),max:a.P2P_HIGH_LIMIT})).nullable()}):t.shape({lowLimit:(0,i.numberSchema)((0,n.$t)("lowLimit")).min(a.P2P_LOW_LIMIT,(0,n.$t)("yupMin",{field:(0,n.$t)("lowLimit"),min:a.P2P_LOW_LIMIT})).max(e.volume,(0,n.$t)("yupMax",{field:(0,n.$t)("lowLimit"),max:e.volume})).nullable()})})),v=(0,u.useCustomForm)(p),y=v.control,g=v.handleSubmit,P=v.setValue,h=v.reset;return f({route:r,reset:h}),l.default.createElement(a.View,{flex:1,justifyContent:"space-between",paddingHorizontal:"m",__self:m,__source:{fileName:c,lineNumber:122,columnNumber:5}},l.default.createElement(a.View,{flex:1,justifyContent:"flex-start",paddingTop:"m",__self:m,__source:{fileName:c,lineNumber:123,columnNumber:7}},l.default.createElement(o.P2PAdvertiseFormTabs,{control:y,handleSubmit:g,route:r,USDT:d,setValue:P,navigation:t,jumpTo:function(){},__self:m,__source:{fileName:c,lineNumber:124,columnNumber:9}})))};var f=function(e){var t=e.route,r=e.reset,n=t.params,u=n.edit,i=n.price,o=n.volume,m=n.externalWalletIds,c=n.lowLimit,s=n.highLimit,f=n.kyc,d=n.signUpPassedDays,_=n.addsInfo;(0,l.useEffect)((function(){u&&r({price:parseFloat(i||"0").toFixed(2),volume:parseFloat(o||"0").toFixed(2),externalWalletIds:m,lowLimit:parseFloat(c||""+a.P2P_LOW_LIMIT).toFixed(2),highLimit:parseFloat(s||""+a.P2P_HIGH_LIMIT).toFixed(2),kyc:f,signUpPassedDays:d,addsInfo:_||""})}),[u,r,i,o,m,c,s,f,d,_])}},89813:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentMethods=void 0;var n=l(r(67294)),a=r(40930),u=r(39698),i=r(59693),o=r(4438),m=r(20961),c=r(51222),s=this,f="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/createAdvertise/PaymentMethods.tsx";t.PaymentMethods=function(e){var t=e.navigation,r=e.route,l=e.control,d=e.jumpTo,_=(0,c.useUserExternalWalletsApi)().data,b=(0,o.useExternalWallets)(_).userWallets.userPaymentMethods,N=(0,a.useController)({control:l,name:"externalWalletIds"}),p=N.fieldState.error,v=N.field.value;return n.default.createElement(i.View,{flex:1,justifyContent:"space-between",paddingTop:"m",__self:s,__source:{fileName:f,lineNumber:29,columnNumber:5}},n.default.createElement(i.MultiSelect,{value:v,data:b,addMoreItem:function(){return t.navigate("Settings",{redirectTo:"PaymentMethods"})},control:l,name:"externalWalletIds",label:(0,u.$t)("paymentMethods"),placeholder:(0,u.$t)("choosePaymentMethod"),__self:s,__source:{fileName:f,lineNumber:30,columnNumber:7}}),n.default.createElement(m.P2PAdvertiseFormSubmit,{navigation:t,route:r,disabled:!!p||!v,hideCancel:!0,handleBack:function(){d("adDetails")},handleNext:function(){d("advancedSettings")},__self:s,__source:{fileName:f,lineNumber:42,columnNumber:7}}))}},63478:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var l=r(7727);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var n=r(89813);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(79139);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var u=r(96495);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var i=r(27477);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=r(20961);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},62484:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var l=r(63478);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var n=r(1141);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(57956);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var u=r(32037);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var i=r(23335);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=r(63781);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var m=r(58050);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var c=r(28364);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var s=r(66408);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}))},19968:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.P2PChat=void 0;var n=l(r(87757)),a=r(15239),u=r(39698),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=e[a]}return l.default=e,r&&r.set(e,l),l}(r(67294)),o=r(59693),m=this,c="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/tradeFlow/Chat.tsx";function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}t.P2PChat=function(e){var t=e.order,r=e.side,l=e.traderName,s=(0,a.useNavigation)().navigate,f=(0,u.useChat)(),d=f.isReady,_=f.isConnected;return(0,i.useEffect)((function(){t.traderId&&_&&n.default.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.default.awrap((0,u.getChatDialog)(t.traderId));case 2:e.sent&&(0,u.getChatMessages)();case 4:case"end":return e.stop()}}),null,null,null,Promise)}),[t.traderId,_]),null===d?i.default.createElement(i.default.Fragment,null):!1===d?i.default.createElement(o.Loading,{__self:m,__source:{fileName:c,lineNumber:39,columnNumber:5}}):i.default.createElement(o.Icon,{marginBottom:"s",name:"message-square-outline",onPress:function(){s("P2PChat",{title:l,orderId:t.orderId,side:r}),(0,u.trackEvent)("P2P_Start_Chat",{side:r})},__self:m,__source:{fileName:c,lineNumber:41,columnNumber:5}})}},56770:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.P2PTradeFlowCompleted=void 0;var n=l(r(67154)),a=l(r(67294)),u=r(39698),i=r(59693),o=r(4070),m=this,c="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/tradeFlow/P2PTradeFlowCompleted.tsx";t.P2PTradeFlowCompleted=function(e){var t=e.navigation,r=e.route,l=e.order,s=r.params.side;return l?a.default.createElement(i.View,{flex:1,justifyContent:"space-between",paddingHorizontal:"m",__self:m,__source:{fileName:c,lineNumber:18,columnNumber:5}},a.default.createElement(i.View,{alignItems:"center",__self:m,__source:{fileName:c,lineNumber:19,columnNumber:7}},a.default.createElement(i.Image,{name:"successful",width:206,height:222,__self:m,__source:{fileName:c,lineNumber:20,columnNumber:9}})),a.default.createElement(i.View,{alignItems:"center",__self:m,__source:{fileName:c,lineNumber:23,columnNumber:7}},a.default.createElement(i.Text,{variant:"subheader",color:"green",__self:m,__source:{fileName:c,lineNumber:24,columnNumber:9}},(0,u.$t)("successful")),a.default.createElement(i.Text,{variant:"text",color:"gray1",__self:m,__source:{fileName:c,lineNumber:28,columnNumber:9}},"sell"===s?parseFloat((null==l?void 0:l.volume)||"0").toFixed(2):((+(null==l?void 0:l.volume)||0)*(1-i.P2P_COMMISSION)).toFixed(2)," ","USDT ","buy"===s?(0,u.$t)("hasBeenBought"):(0,u.$t)("hasBeenSold")),a.default.createElement(i.View,{flexDirection:"row",alignItems:"center",__self:m,__source:{fileName:c,lineNumber:35,columnNumber:9}},a.default.createElement(i.Text,{variant:"header",color:"blue",marginHorizontal:"xs",__self:m,__source:{fileName:c,lineNumber:36,columnNumber:11}},(parseFloat((null==l?void 0:l.price)||"0")*parseFloat((null==l?void 0:l.volume)||"0")).toFixed(2)),a.default.createElement(i.Image,{name:"IQD",width:20,height:20,__self:m,__source:{fileName:c,lineNumber:42,columnNumber:11}}))),a.default.createElement(i.View,{__self:m,__source:{fileName:c,lineNumber:46,columnNumber:7}},a.default.createElement(i.Button,{variant:"primary",onPress:function(){o.queryClient.invalidateQueries("assets"),t.pop(),t.navigate("Wallet")},label:(0,u.$t)("viewAssets"),__self:m,__source:{fileName:c,lineNumber:47,columnNumber:9}}),a.default.createElement(i.Button,{variant:"outline",onPress:function(){o.queryClient.invalidateQueries("assets"),t.pop(),t.navigate("OrderDetails",(0,n.default)({},l,{traderName:"buy"===s?l.sellerName:l.buyerName,paymentMethod:l.paymentMethodName,side:s}))},label:(0,u.$t)("orderDetails"),__self:m,__source:{fileName:c,lineNumber:56,columnNumber:9}}))):a.default.createElement(i.Loading,{__self:m,__source:{fileName:c,lineNumber:16,columnNumber:5}})}},10135:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.P2PTradeFlowSubmit=void 0;var n=l(r(67154)),a=l(r(63038)),u=l(r(67294)),i=r(39698),o=r(59693),m=this,c="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/tradeFlow/P2PTradeFlowSubmit.tsx";t.P2PTradeFlowSubmit=function(e){var t=e.route,r=e.navigation,l=e.order,s=e.label,f=e.handleNext,d=e.disabled,_=e.hideCancel,b=e.showDispute,N=e.disableDispute,p=u.default.useState(!1),v=(0,a.default)(p,2),y=v[0],g=v[1],P=t.params.side||"buy";return u.default.createElement(o.View,{flexDirection:"row",__self:m,__source:{fileName:c,lineNumber:34,columnNumber:5}},b&&u.default.createElement(o.View,{flex:1,paddingEnd:"xs",__self:m,__source:{fileName:c,lineNumber:36,columnNumber:9}},u.default.createElement(o.Button,{variant:"accent",disabled:N,label:(0,i.$t)("dispute"),onPress:function(){r.navigate("Dispute",{side:P,orderId:l.orderId}),(0,i.trackEvent)("P2P_Dispute",{side:P})},__self:m,__source:{fileName:c,lineNumber:37,columnNumber:11}})),!_&&u.default.createElement(u.default.Fragment,null,u.default.createElement(o.View,{flex:1,paddingHorizontal:"xs",__self:m,__source:{fileName:c,lineNumber:51,columnNumber:11}},u.default.createElement(o.Button,{label:(0,i.$t)("cancel"),onPress:function(){g(!0)},variant:"secondary",__self:m,__source:{fileName:c,lineNumber:52,columnNumber:13}})),u.default.createElement(o.Popup,{code:"CONFIRM_CANCEL_ORDER",isVisible:y,onRequestClose:function(e){e.isAccepted&&(r.navigate("CancelOrder",(0,n.default)({},l,{side:P,cancelledBySystem:!1})),(0,i.trackEvent)("P2P_Cancel",{side:P})),g(!1)},__self:m,__source:{fileName:c,lineNumber:61,columnNumber:11}})),u.default.createElement(o.View,{flex:2,paddingHorizontal:_?"none":"xs",__self:m,__source:{fileName:c,lineNumber:79,columnNumber:7}},f&&u.default.createElement(o.Button,{variant:"primary",disabled:d,label:s||(0,i.$t)("continue"),onPress:f,__self:m,__source:{fileName:c,lineNumber:81,columnNumber:11}})))}},39003:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.P2PTradeTimer=void 0;var n=l(r(67294)),a=r(59693),u=r(34787),i=this;t.P2PTradeTimer=function(e){var t=e.createdAt,r=void 0===t?new Date:t,l=e.isDispute,o=e.onTimeOver,m=(0,u.useTimer)(r,l,o).timer;return n.default.createElement(a.Text,{variant:"text",color:"primary",paddingEnd:"xs",__self:i,__source:{fileName:"/Users/phinix/Workspace/BitBayt/src/features/P2P/components/tradeFlow/P2PTradeTimer.tsx",lineNumber:18,columnNumber:5}},m)}},81310:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PayWithPaymentMethod=t.PayConfirm=void 0;var n=l(r(67154)),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=e[a]}return l.default=e,r&&r.set(e,l),l}(r(67294)),u=r(785),i=r(39698),o=r(59693),m=r(1141),c=r(34787),s=r(46823),f=r(50599),d=r(4070),_=r(51222),b=this,N="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/tradeFlow/PayWithPaymentMethod.tsx";function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}t.PayWithPaymentMethod=function(e){var t=e.navigation,r=e.route,l=e.jumpTo,c=e.order,s=r.params.side,_=a.default.useRef(null);return c?a.default.createElement(o.View,{flex:1,justifyContent:"space-between",paddingHorizontal:"m",__self:b,__source:{fileName:N,lineNumber:41,columnNumber:5}},a.default.createElement(u.ScrollView,{__self:b,__source:{fileName:N,lineNumber:42,columnNumber:7}},a.default.createElement(o.View,{__self:b,__source:{fileName:N,lineNumber:43,columnNumber:9}},a.default.createElement(o.Text,{variant:"text",__self:b,__source:{fileName:N,lineNumber:44,columnNumber:11}},(0,i.$t)("payWithPayment1")),a.default.createElement(o.View,{flexDirection:"row",alignItems:"center",__self:b,__source:{fileName:N,lineNumber:46,columnNumber:11}},a.default.createElement(o.Text,{variant:"text",marginVertical:"s",__self:b,__source:{fileName:N,lineNumber:47,columnNumber:13}},(0,i.$t)("payWithPayment2")," ",a.default.createElement(o.Text,(0,n.default)({color:"blue"},o.MediumFontProps,{__self:b,__source:{fileName:N,lineNumber:49,columnNumber:15}}),(parseFloat(c.price)*parseFloat(c.volume)).toFixed(2))),a.default.createElement(o.Image,{name:"IQD",width:20,height:20,marginEnd:"auto",marginStart:"xs",__self:b,__source:{fileName:N,lineNumber:55,columnNumber:13}}),a.default.createElement(f.Clipboard,{size:25,marginStart:"auto",target:(parseFloat(c.price)*parseFloat(c.volume)).toFixed(2),successMessage:(0,i.$t)("itemCopied",{item:(0,i.$t)("amount")}),__self:b,__source:{fileName:N,lineNumber:62,columnNumber:13}})),a.default.createElement(o.View,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"m",__self:b,__source:{fileName:N,lineNumber:72,columnNumber:11}},a.default.createElement(o.Text,{color:"gray1",__self:b,__source:{fileName:N,lineNumber:77,columnNumber:13}},(0,i.$t)("accountName")),a.default.createElement(o.View,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",__self:b,__source:{fileName:N,lineNumber:78,columnNumber:13}},a.default.createElement(o.Text,{color:"gray1",__self:b,__source:{fileName:N,lineNumber:82,columnNumber:15}},c.sellerName),a.default.createElement(f.Clipboard,{size:18,target:c.sellerName,successMessage:(0,i.$t)("itemCopied",{item:(0,i.$t)("accountName")}),__self:b,__source:{fileName:N,lineNumber:83,columnNumber:15}}))),a.default.createElement(o.View,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"m",__self:b,__source:{fileName:N,lineNumber:91,columnNumber:11}},a.default.createElement(o.Text,{color:"gray1",__self:b,__source:{fileName:N,lineNumber:96,columnNumber:13}},(0,i.$t)("accountNumber")),a.default.createElement(o.View,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",__self:b,__source:{fileName:N,lineNumber:97,columnNumber:13}},a.default.createElement(o.Text,{color:"gray1",__self:b,__source:{fileName:N,lineNumber:101,columnNumber:15}},c.accountNumber),a.default.createElement(f.Clipboard,{size:18,target:c.accountNumber,successMessage:(0,i.$t)("itemCopied",{item:(0,i.$t)("accountNumber")}),__self:b,__source:{fileName:N,lineNumber:102,columnNumber:15}}))),a.default.createElement(o.View,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"m",__self:b,__source:{fileName:N,lineNumber:110,columnNumber:11}},a.default.createElement(o.Text,{color:"gray1",__self:b,__source:{fileName:N,lineNumber:115,columnNumber:13}},(0,i.$t)("totalAmountReceived")),a.default.createElement(o.View,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",__self:b,__source:{fileName:N,lineNumber:116,columnNumber:13}},a.default.createElement(o.Text,{color:"gray1",__self:b,__source:{fileName:N,lineNumber:120,columnNumber:15}},"sell"===s?parseFloat(c.volume).toFixed(2):(+c.volume*(1-o.P2P_COMMISSION)).toFixed(2)),a.default.createElement(f.Clipboard,{size:18,target:parseFloat(c.volume).toFixed(2),successMessage:(0,i.$t)("itemCopied",{item:(0,i.$t)("totalAmountReceived")}),__self:b,__source:{fileName:N,lineNumber:125,columnNumber:15}}))),a.default.createElement(o.Text,{variant:"text",__self:b,__source:{fileName:N,lineNumber:135,columnNumber:11}},(0,i.$t)("payWithPayment3")))),a.default.createElement(o.BottomSheet,{ref:_,size:"s",toggle:null,title:(0,i.$t)("didYouPay"),__self:b,__source:{fileName:N,lineNumber:139,columnNumber:7}},a.default.createElement(y,{order:c,onConfirm:function(e){var t;null==(t=_.current)||t.close(),e&&(d.queryClient.invalidateQueries("P2POrder"),l("pendingForRelease"))},__self:b,__source:{fileName:N,lineNumber:144,columnNumber:9}})),a.default.createElement(m.P2PTradeFlowSubmit,{order:c,navigation:t,route:r,label:(0,i.$t)("paymentCompleted"),handleNext:function(){var e;null==(e=_.current)||e.open()},__self:b,__source:{fileName:N,lineNumber:157,columnNumber:7}})):a.default.createElement(o.Loading,{__self:b,__source:{fileName:N,lineNumber:39,columnNumber:5}})};var v=(0,s.createSchema)({confirm:(0,s.requiredBooleanSchema)((0,i.$t)("confirm"))}),y=function(e){var t=e.order,r=e.onConfirm,l=(0,c.useCustomForm)(v),n=l.control,u=l.handleSubmit,m=l.formState.isValid,s=(0,_.useP2PPaymentCompleteApi)(),f=s.mutate,d=s.isLoading,p=(0,a.useCallback)((function(){var e={orderId:(null==t?void 0:t.orderId)||"0"};f(e,{onSuccess:function(){r(!0),(0,i.trackEvent)("P2P_Payment_Complete")},onError:function(){r(!1)}})}),[null==t?void 0:t.orderId]);return a.default.createElement(o.View,{flex:1,justifyContent:"space-between",__self:b,__source:{fileName:N,lineNumber:205,columnNumber:5}},a.default.createElement(o.View,{__self:b,__source:{fileName:N,lineNumber:206,columnNumber:7}},a.default.createElement(o.Text,{color:"gray1",__self:b,__source:{fileName:N,lineNumber:207,columnNumber:9}},(0,i.$t)("didYouPayHint")),a.default.createElement(o.Checkbox,{control:n,name:"confirm",label:(0,i.$t)("confirmPaymentCheckbox"),__self:b,__source:{fileName:N,lineNumber:209,columnNumber:9}})),a.default.createElement(o.Button,{loading:d,label:(0,i.$t)("confirm"),onPress:u(p),disabled:!m,__self:b,__source:{fileName:N,lineNumber:215,columnNumber:7}}))};t.PayConfirm=y},22889:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.PendingForPayment=void 0;var n=l(r(67294)),a=r(785),u=r(39698),i=r(59693),o=r(50599),m=r(1141),c=this,s="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/tradeFlow/PendingForPayment.tsx";t.PendingForPayment=function(e){var t=e.navigation,r=e.route,l=e.jumpTo,f=e.order,d=r.params.side;return f?n.default.createElement(i.View,{flex:1,justifyContent:"space-between",paddingHorizontal:"m",__self:c,__source:{fileName:s,lineNumber:27,columnNumber:5}},n.default.createElement(a.ScrollView,{__self:c,__source:{fileName:s,lineNumber:28,columnNumber:7}},"buy"===d?n.default.createElement(o.DetailItem,{item:"sellerName",details:f,__self:c,__source:{fileName:s,lineNumber:30,columnNumber:11}}):n.default.createElement(o.DetailItem,{item:"buyerName",details:f,__self:c,__source:{fileName:s,lineNumber:32,columnNumber:11}}),n.default.createElement(o.DetailItem,{item:"unitPrice",details:{unitPrice:parseFloat(f.price).toFixed(2)},__self:c,__source:{fileName:s,lineNumber:35,columnNumber:9}}),n.default.createElement(o.DetailItem,{item:"quantity",details:{quantity:parseFloat(f.volume).toFixed(2)},__self:c,__source:{fileName:s,lineNumber:39,columnNumber:9}}),n.default.createElement(o.DetailItem,{item:"totalAmount",details:{totalAmount:(parseFloat(f.price)*parseFloat(f.volume)).toFixed(2)},__self:c,__source:{fileName:s,lineNumber:43,columnNumber:9}}),n.default.createElement(o.DetailItem,{item:"paymentMethod",details:{paymentMethod:f.paymentMethodName},__self:c,__source:{fileName:s,lineNumber:51,columnNumber:9}})),n.default.createElement(m.P2PTradeFlowSubmit,{disabled:"sell"===d&&!f.paymentCompletedAt,order:f,navigation:t,route:r,hideCancel:"sell"===d,label:"sell"===d?(0,u.$t)("release"):void 0,handleNext:function(){l("buy"===d?"payWithPaymentMethod":"pendingForRelease")},__self:c,__source:{fileName:s,lineNumber:57,columnNumber:7}})):n.default.createElement(i.Loading,{__self:c,__source:{fileName:s,lineNumber:25,columnNumber:5}})}},83965:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.ReleaseConfirm=t.PendingForRelease=void 0;var n=l(r(67154)),a=l(r(63038)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=e[a]}return l.default=e,r&&r.set(e,l),l}(r(67294)),i=r(785),o=r(39698),m=r(59693),c=r(1141),s=r(50599),f=r(34787),d=r(46823),_=r(51222),b=this,N="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/tradeFlow/PendingForRelease.tsx";function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}t.PendingForRelease=function(e){var t=e.navigation,r=e.route,l=e.jumpTo,n=e.order,f=(0,u.useState)(!1),d=(0,a.default)(f,2),_=d[0],p=d[1],v=u.default.useRef(null),g=r.params.side;return n?u.default.createElement(m.View,{flex:1,justifyContent:"space-between",paddingHorizontal:"m",__self:b,__source:{fileName:N,lineNumber:41,columnNumber:5}},u.default.createElement(i.ScrollView,{__self:b,__source:{fileName:N,lineNumber:42,columnNumber:7}},u.default.createElement(s.DetailItem,{item:"unitPrice",details:{unitPrice:parseFloat(n.price).toFixed(2)},__self:b,__source:{fileName:N,lineNumber:43,columnNumber:9}}),u.default.createElement(s.DetailItem,{item:"quantity",details:{quantity:parseFloat(n.volume).toFixed(2)},__self:b,__source:{fileName:N,lineNumber:47,columnNumber:9}}),u.default.createElement(s.DetailItem,{item:"totalAmount",details:{totalAmount:(parseFloat(n.price)*parseFloat(n.volume)).toFixed(2)},__self:b,__source:{fileName:N,lineNumber:51,columnNumber:9}}),u.default.createElement(m.View,{borderBottomColor:"gray3",borderBottomWidth:1,width:"100%",marginTop:"s",marginBottom:"m",__self:b,__source:{fileName:N,lineNumber:59,columnNumber:9}}),"buy"===g?u.default.createElement(s.DetailItem,{item:"sellerName",details:n,__self:b,__source:{fileName:N,lineNumber:67,columnNumber:11}}):u.default.createElement(s.DetailItem,{item:"buyerName",details:n,__self:b,__source:{fileName:N,lineNumber:69,columnNumber:11}}),u.default.createElement(s.DetailItem,{item:"status",details:{status:n.paid?(0,o.$t)("paid"):(0,o.$t)("pending")},__self:b,__source:{fileName:N,lineNumber:71,columnNumber:9}})),u.default.createElement(m.BottomSheet,{ref:v,size:"m",noPadding:!0,toggle:null,title:(0,o.$t)("releaseNow"),__self:b,__source:{fileName:N,lineNumber:77,columnNumber:7}},u.default.createElement(y,{order:n,onConfirm:function(e){var t;null==(t=v.current)||t.close(),e&&l("completed")},__self:b,__source:{fileName:N,lineNumber:83,columnNumber:9}})),u.default.createElement(m.View,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",__self:b,__source:{fileName:N,lineNumber:94,columnNumber:7}},u.default.createElement(m.Text,{variant:"hint",__self:b,__source:{fileName:N,lineNumber:98,columnNumber:9}},"sell"===g?(0,o.$t)("releaseTimerHint"):(0,o.$t)("disputeTimerHint")),n.paymentCompletedAt&&u.default.createElement(c.P2PTradeTimer,{createdAt:n.paymentCompletedAt,isDispute:!0,onTimeOver:function(){return p(!0)},__self:b,__source:{fileName:N,lineNumber:103,columnNumber:11}})),u.default.createElement(c.P2PTradeFlowSubmit,{disabled:"sell"===g&&!n.paymentCompletedAt||"buy"===g&&!_,order:n,navigation:t,route:r,showDispute:"sell"===g,disableDispute:!n.paymentCompletedAt||!_,hideCancel:!0,label:"buy"===g?(0,o.$t)("dispute"):(0,o.$t)("release"),handleNext:function(){var e;"buy"===g?t.navigate("Dispute",{side:g,orderId:n.orderId}):null==(e=v.current)||e.open()},__self:b,__source:{fileName:N,lineNumber:111,columnNumber:7}})):u.default.createElement(m.Loading,{__self:b,__source:{fileName:N,lineNumber:39,columnNumber:5}})};var v=(0,d.createSchema)({confirm:(0,d.requiredBooleanSchema)((0,o.$t)("confirm"))}),y=function(e){var t=e.order,r=e.onConfirm,l=(0,f.useCustomForm)(v),a=l.control,i=l.handleSubmit,c=l.formState.isValid,s=(0,_.useReleaseP2POrderApi)(),d=s.mutate,p=s.isLoading,y=(0,u.useCallback)((function(){var e={orderId:(null==t?void 0:t.orderId)||"0"};d(e,{onSuccess:function(){r(!0),(0,o.trackEvent)("P2P_Release")},onError:function(){r(!1)}})}),[null==t?void 0:t.orderId]);return u.default.createElement(m.View,{flex:1,justifyContent:"space-between",__self:b,__source:{fileName:N,lineNumber:168,columnNumber:5}},u.default.createElement(m.View,{__self:b,__source:{fileName:N,lineNumber:169,columnNumber:7}},u.default.createElement(m.Text,{color:"orange",marginBottom:"m",__self:b,__source:{fileName:N,lineNumber:170,columnNumber:9}},(0,o.$t)("didYouGetMoneyHint")),u.default.createElement(m.Text,{color:"gray1",__self:b,__source:{fileName:N,lineNumber:174,columnNumber:9}},(0,o.$t)("openYourBanking")),u.default.createElement(m.Text,(0,n.default)({color:"black"},m.MediumFontProps,{paddingStart:"m",marginBottom:"s",__self:b,__source:{fileName:N,lineNumber:175,columnNumber:9}}),null==t?void 0:t.paymentMethodName," (",null==t?void 0:t.accountNumber,")"),u.default.createElement(m.Text,{color:"gray1",__self:b,__source:{fileName:N,lineNumber:182,columnNumber:9}},(0,o.$t)("findThePayment")),u.default.createElement(m.Text,(0,n.default)({color:"black"},m.MediumFontProps,{paddingStart:"m",marginBottom:"s",__self:b,__source:{fileName:N,lineNumber:183,columnNumber:9}}),(parseFloat((null==t?void 0:t.price)||"0")*parseFloat((null==t?void 0:t.volume)||"0")).toFixed(2)),u.default.createElement(m.Text,{color:"gray1",__self:b,__source:{fileName:N,lineNumber:192,columnNumber:9}},(0,o.$t)("checkThePayer")),u.default.createElement(m.Text,(0,n.default)({color:"black"},m.MediumFontProps,{paddingStart:"m",marginBottom:"s",__self:b,__source:{fileName:N,lineNumber:193,columnNumber:9}}),null==t?void 0:t.buyerName),u.default.createElement(m.Checkbox,{control:a,name:"confirm",label:(0,o.$t)("confirmReleaseCheckbox"),__self:b,__source:{fileName:N,lineNumber:201,columnNumber:9}})),u.default.createElement(m.Button,{loading:p,label:(0,o.$t)("confirm"),onPress:i(y),disabled:!c,__self:b,__source:{fileName:N,lineNumber:208,columnNumber:7}}))};t.ReleaseConfirm=y},58199:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TradeFlowHeader=void 0;var n=l(r(67294)),a=r(15239),u=r(39698),i=r(59693),o=r(39003),m=r(50599),c=r(4070),s=r(19968),f=this,d="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/tradeFlow/TradeFlowHeader.tsx";t.TradeFlowHeader=function(e){var t=e.side,r=e.order,l=e.traderName,_=(0,a.useNavigation)().goBack;return n.default.createElement(i.View,{paddingHorizontal:"m",__self:f,__source:{fileName:d,lineNumber:23,columnNumber:5}},n.default.createElement(i.View,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",__self:f,__source:{fileName:d,lineNumber:24,columnNumber:7}},n.default.createElement(i.Text,{variant:"hint",__self:f,__source:{fileName:d,lineNumber:28,columnNumber:9}},"buy"===t?(0,u.$t)("pendingForPaymentHintBuyer"):(0,u.$t)("pendingForPaymentHintSeller")),n.default.createElement(o.P2PTradeTimer,{createdAt:r.createdAt,onTimeOver:function(){c.queryClient.invalidateQueries("MyOrders"),(0,i.showPopupMessage)((0,u.$t)("OrderWasCancelled"),"info"),_()},__self:f,__source:{fileName:d,lineNumber:34,columnNumber:9}})),n.default.createElement(i.View,{marginTop:"s",flexDirection:"row",justifyContent:"space-between",alignItems:"center",__self:f,__source:{fileName:d,lineNumber:44,columnNumber:7}},n.default.createElement(m.CoinSide,{side:t,coin:"USDT",__self:f,__source:{fileName:d,lineNumber:49,columnNumber:9}}),n.default.createElement(s.P2PChat,{traderName:l,order:r,side:t,__self:f,__source:{fileName:d,lineNumber:51,columnNumber:9}})))}},63262:function(e,t,r){var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.TradeFlowTabs=void 0;var n=l(r(67154)),a=l(r(63038)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(l,a,u):l[a]=e[a]}return l.default=e,r&&r.set(e,l),l}(r(67294)),i=r(39698),o=r(59693),m=r(1141),c=r(51222),s=this,f="/Users/phinix/Workspace/BitBayt/src/features/P2P/components/tradeFlow/TradeFlowTabs.tsx";function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}t.TradeFlowTabs=function(e){var t=e.navigation,r=e.route,l=r.params,d=l.side,b=l.orderId,N=[{key:"pendingForPayment",title:(0,i.$t)("pendingForYourPayment")},{key:"payWithPaymentMethod",title:(0,i.$t)("payWithPaymentMethod")},{key:"pendingForRelease",title:(0,i.$t)("pendingForRelease")},{key:"completed",title:(0,i.$t)("completed")}];"sell"===d&&(N=[{key:"pendingForPayment",title:(0,i.$t)("pendingForPayment")},{key:"pendingForRelease",title:(0,i.$t)("pendingForYourRelease")},{key:"completed",title:(0,i.$t)("completed")}]);var p=u.default.useState(N),v=(0,a.default)(p,1)[0],y=(0,c.useP2POrderApi)(b).data,g=u.default.useRef({index:0,jumpTo:function(){}});return(0,u.useEffect)((function(){null!=y&&y.paid&&g.current.jumpTo("pendingForRelease"),"cancelled"===(null==y?void 0:y.status)&&t.replace("CancelOrder",(0,n.default)({},y,{side:d,cancelledBySystem:!0})),("completed"===(null==y?void 0:y.status)||null!=y&&y.released)&&g.current.jumpTo("completed")}),[t,y,null==y?void 0:y.paid,null==y?void 0:y.status,d]),y?u.default.createElement(o.Tabs,{routes:v,scenes:_({tabBarRef:g,navigation:t,route:r,order:y}),tabBar:function(e){var t=e.navigationState.index,r=e.jumpTo;return g.current={index:t,jumpTo:r},u.default.createElement(u.default.Fragment,null,u.default.createElement(o.Stepper,{currentPosition:t,labels:v.map((function(e){return e.title})),__self:s,__source:{fileName:f,lineNumber:78,columnNumber:13}}),("buy"===d&&t<3||"sell"===d&&t<2)&&y.traderId&&u.default.createElement(m.TradeFlowHeader,{side:d,order:y,traderName:"buy"===d?y.sellerName:y.buyerName,__self:s,__source:{fileName:f,lineNumber:86,columnNumber:17}}))},__self:s,__source:{fileName:f,lineNumber:65,columnNumber:5}}):u.default.createElement(o.Loading,{__self:s,__source:{fileName:f,lineNumber:99,columnNumber:5}})};var _=function(e){var t=e.tabBarRef,r=e.navigation,l=e.route,n=e.order;return{pendingForPayment:u.default.memo((function(){return u.default.createElement(m.PendingForPayment,{order:n,navigation:r,route:l,jumpTo:function(e){return t.current.jumpTo(e)},__self:s,__source:{fileName:f,lineNumber:114,columnNumber:7}})})),payWithPaymentMethod:u.default.memo((function(){return u.default.createElement(m.PayWithPaymentMethod,{order:n,navigation:r,route:l,jumpTo:function(e){return t.current.jumpTo(e)},__self:s,__source:{fileName:f,lineNumber:123,columnNumber:7}})})),pendingForRelease:u.default.memo((function(){return u.default.createElement(m.PendingForRelease,{order:n,navigation:r,route:l,jumpTo:function(e){return t.current.jumpTo(e)},__self:s,__source:{fileName:f,lineNumber:132,columnNumber:7}})})),completed:u.default.memo((function(){return u.default.createElement(m.P2PTradeFlowCompleted,{order:n,navigation:r,route:l,__self:s,__source:{fileName:f,lineNumber:141,columnNumber:7}})}))}}},1141:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var l=r(22889);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var n=r(83965);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(81310);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var u=r(56770);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var i=r(10135);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=r(63262);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var m=r(58199);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var c=r(39003);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}))},49562:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var l=r(72589);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var n=r(18639);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},72589:(e,t,r)=>{var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useConfirmP2POrderInputEffect=void 0;var n=l(r(67294)),a=r(40930),u=r(46741);t.useConfirmP2POrderInputEffect=function(e){var t=e.side,r=e.scale,l=e.control,i=e.setValue,o=n.default.useRef(),m=n.default.useRef(),c=n.default.useRef(),s=(0,a.useWatch)({control:l}),f=s.quantity,d=s.amount;f!==m.current&&(m.current=f,o.current="quantity"),d!==c.current&&(c.current=d,o.current="amount"),n.default.useEffect((function(){if(f&&"quantity"===o.current){var e=(0,u.prepareOtherP2PInput)({scale:r,value:f,baseInput:o.current});d!==e&&(c.current=e,o.current="system",i("amount",e,{shouldValidate:!0,shouldDirty:!0,shouldTouch:!0}))}}),[d,f,i,t,r]),n.default.useEffect((function(){if(d&&"amount"===o.current){var e=(0,u.prepareOtherP2PInput)({scale:r,value:d,baseInput:o.current});f!==e&&(m.current=e,o.current="system",i("quantity",e,{shouldValidate:!0,shouldDirty:!0,shouldTouch:!0}))}}),[d,f,i,t,r])}},18639:(e,t,r)=>{var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useMyOrderClick=void 0;var n=l(r(67154)),a=r(67294),u=r(46741);t.useMyOrderClick=function(e,t){return(0,a.useCallback)((function(r){return"cancelled"===r.status?r.dispute?e.navigate("Dispute",{orderId:r.id,side:(0,u.getMySide)(r,t)}):e.navigate("CancelOrder",(0,n.default)({},r,{side:(0,u.getMySide)(r,t),orderId:r.id,buyerName:r.traderName,sellerName:r.traderName,cancelledBySystem:!0})):"completed"===r.status?e.navigate("OrderDetails",(0,n.default)({},r,{paymentMethod:r.paymentMethodName,orderId:r.id,side:(0,u.getMySide)(r,t)})):e.navigate("P2PTradeFlow",(0,n.default)({},r,{orderId:r.id,side:(0,u.getMySide)(r,t)}))}),[e,t])}},46741:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.prepareOtherP2PInput=t.getMySide=void 0,t.prepareOtherP2PInput=function(e){var t,n=e.value,a=e.scale;return t="quantity"===e.baseInput?l(n,a):r(n,a),isNaN(+t)?"0":t};var r=function(e,t){return parseFloat((+e/+t).toFixed(6)).toString()},l=function(e,t){return parseFloat((+e*+t).toFixed(0)).toString()};t.getMySide=function(e,t){return e.userId===t?e.side:"buy"===e.side?"sell":"buy"}},4438:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var l=r(55520);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}))},55520:(e,t,r)=>{var l=r(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.useExternalWallets=void 0;var n=l(r(67154)),a=r(67294),u=r(51222);t.useExternalWallets=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,u.useExternalWalletsApi)(),r=t.data;return(0,a.useMemo)((function(){var t,l,a=(null==r||null==(t=r.filter((function(e){return"bank"===e.type})))?void 0:t.map((function(e){return{value:e.id,label:e.name,icon:e.icon}})))||[],u=(null==r||null==(l=r.filter((function(e){return"digital wallet"===e.type})))?void 0:l.map((function(e){return{value:e.id,label:e.name,icon:e.icon}})))||[],i={bankTransfer:[],digitalWallet:[],addressBook:[],userPaymentMethods:[]};return null==e||e.forEach((function(e){var t=null==a?void 0:a.findIndex((function(t){return t.value===e.externalWalletId}));if(t>-1)i.bankTransfer.push((0,n.default)({},e,a[t]));else{var r=null==u?void 0:u.findIndex((function(t){return t.value===e.externalWalletId}));r>-1?i.digitalWallet.push((0,n.default)({},e,u[r])):i.addressBook.push((0,n.default)({},e))}})),i.userPaymentMethods=i.bankTransfer.concat(i.digitalWallet),{bankTransfer:a,digitalWallet:u,paymentMethods:a.concat(u),userWallets:i}}),[r,e])}}}]);